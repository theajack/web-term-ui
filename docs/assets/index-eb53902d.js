(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function tt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Xt(n){if(Array.isArray(n))return tt(n)}function V(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,re(r.key),r)}}function R(n,t,e){return t&&yt(n.prototype,t),e&&yt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Qt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(n){return Xt(n)||Qt(n)||ie(n)||te()}function ne(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function re(n){var t=ne(n,"string");return typeof t=="symbol"?t:t+""}function I(n){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(n)}function ie(n,t){if(n){if(typeof n=="string")return tt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?tt(n,t):void 0}}function lt(n){return!!(n!=null&&n.__isRef)}var et=null;function oe(n){return et=n,function(){et=null}}function se(){return et}var ae=function(){function n(t,e){var r=this;V(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=oe(function(o,s){var l=function(){if(r._dirty=!0,r._listeners.length>0){var c=r._value,h=r.value;r._listeners.forEach(function(d){d(h,c)})}},a=typeof s=="string"?o.$sub(s,l):o.sub(l);r._clearSub.push(a)});this._refreshValue(),i()}return R(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),le(this),(t=se())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function ue(n,t){return K(n)?n:new ae(n,t)}function K(n){return!!(n!=null&&n.__isComputed)}function Wt(n){return typeof n=="function"||K(n)}var O={};function le(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;K(n)||lt(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(O,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function ce(n,t){if(!O)throw new Error("Bind 传入参数错误");(K(t)||lt(t))&&(t=t.value);var e=O.get,r=O.set,i=O.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,s="string";if(o.tagName==="INPUT"){var l=n.attr("type");l==="number"||l==="range"?s="number":(l==="radio"||l==="checkbox")&&(s="boolean")}var a=function(){if(s==="boolean")return o.checked;var u=n.value();return s==="number"?parseFloat(u):u},c=function(u){if(s==="boolean"){o.checked=u;return}n.value(u)},h=!1,d=function(){h=!0,r(a()),h=!1};c(e()),n.on("input",function(){d()}),n.on("change",function(){d()}),i(function(u){h||c(u)})}function A(n,t){if(lt(n))n.sub(function(){t(n.value)}),t(n.value);else if(Wt(n)){var e=ue(n);e.sub(function(){t(e.value)}),t(e.value)}else t(n)}var It=function(){function n(t){V(this,n),this.__ld_type=q.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return R(n,[{key:"text",value:function(t){var e=this;return A(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),he=function(){function n(){V(this,n),this.__ld_type=q.Frag,this.children=[],this.el=document.createDocumentFragment()}return R(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return ct(r,function(o,s){t.children.push(s),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),q=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(q||{});function ct(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){ct(e,t);return}var i=e;Wt(i)?(i=new It(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var fe=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,gt=/!important$/,de=/^[0-9]+$/;function pe(n,t){n=ve(n);var e="";return gt.test(t)&&(e="important",t=t.replace(gt,"")),de.test(t)&&fe.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function ve(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var me=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function ye(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ht(n,t,document)}function ht(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new N(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],s=0;s<i.length;s++)o.push(new N(i[s]));return o}var E=function(){var n=function(e){return new N(e)},t={frag:{get:function(){return new he}},text:{get:function(){var e=function(r){return new It(r)};return e.text=e,e}}};return me.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function ge(n,t){var e,r=t;typeof t=="string"?r=ht(t,!0):t instanceof HTMLElement&&(r=new N(t)),Array.isArray(n)?(e=r).append.apply(e,ee(n)):r.append(n)}var N=function(){function n(t){V(this,n),this.__ld_type=q.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return R(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(A(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(I(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(A(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(I(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),A(e,function(s){return r.el.__xr_data[t]=s}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return A(e,function(o){var s=pe(t,o),l=s.important,a=s.cssValue,c=s.cssKey;r.setProperty(c,a,l)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(A(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(I(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,s=function(l){var a;e.self&&l.target!==i||(e.stop&&l.stopPropagation(),e.prevent&&l.preventDefault(),e.once&&i.removeEventListener(t,s,e.capture),(a=e.listener)===null||a===void 0||a.call(e,l))};i.addEventListener(t,s,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return ct(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return A(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ht(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return ce(this,t),this}}])}();function bt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function xt(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=we(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(a){throw a},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var a=e.next();return s=a.done,a},e:function(a){l=!0,o=a},f:function(){try{s||e.return==null||e.return()}finally{if(l)throw o}}}}function be(n,t,e){return(t=_e(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _t(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function k(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(e),!0).forEach(function(r){be(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_t(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function xe(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function _e(n){var t=xe(n,"string");return typeof t=="symbol"?t:t+""}function nt(n){"@babel/helpers - typeof";return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(n)}function we(n,t){if(n){if(typeof n=="string")return bt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?bt(n,t):void 0}}var w={FontFamily:'Menlo, Monaco, "Courier New", monospace',FontSize:14,LineHeight:18,CodePadding:10,PLeft:8};function ke(n){var t=document.createElement("canvas"),e=t.getContext("2d");return e.font=n,function(r){return r?e.measureText(r).width:0}}function Se(n,t){var e=[],r="#0b8c0b",i=.4,o=ke("14px Menlo, Monaco, Courier New, monospace"),s=xt(t),l;try{for(s.s();!(l=s.n()).done;){var a=l.value,c={color:a.color||r,opacity:a.opacity||i};if(Ce(a)){var h=n.matchAll(a.match),d=xt(h),u;try{for(d.s();!(u=d.n()).done;){var f=u.value,v=n.substring(0,f.index),p=v.split(`
`),y=p.pop();e.push(k({left:o(y)+w.PLeft,top:p.length*w.LineHeight,width:o(f[0]),index:p.length},c))}}catch(C){d.e(C)}finally{d.f()}}else{var m=a.row,g=a.column,x=a.range,S=x===void 0?1:x,P=n.split(`
`);debugger;e.push(k({left:o(P[m].substring(0,g))+w.PLeft,top:m*w.LineHeight,index:m,width:o(P[m].substring(g,g+S))},c))}}}catch(C){s.e(C)}finally{s.f()}return e}function Ce(n){return typeof n.match<"u"}function Ee(n){return n.map(function(t){return E.div.class("highlight-bar").style({position:"absolute",backgroundColor:Dt(t),left:"0",top:"".concat(w.CodePadding+t.top,"px"),height:"".concat(w.LineHeight,"px"),width:"100%"}).append(E.span.style({position:"absolute",backgroundColor:t.color,left:"".concat(t.left,"px"),width:"".concat(t.width,"px"),height:"100%"}))})}function Dt(n){var t=n.color,e=n.opacity;if(t[0]==="#"){var r=function(o){var s=Math.round(o*1.6*10).toString(16);return s.length===2?"F":s},i=r(e);return t.length===4?"".concat(t).concat(i):"".concat(t).concat(i).concat(i)}else if(t.startsWith("rgba"))return t.replace(/,([0-9]*)\)/,",".concat(e,")"));return t.replace(/,([0-9]*)\)/,function(o,s){return",".concat(s,",").concat(e,")")})}var X="#9cdcfe";ge(E.style.text(`
.xhl-punc {
    color: #ddd;
}
.xhl-bkt {
    color: #ffe11c;
}
.xhl-k1 {
    color: #569cd6;
}
.xhl-k2 {
    color: #c586c0;
}
.xhl-k3 {
    color: #3ac9b0;
}
.xhl-num {
    color: #b5cea8;
}
.xhl-f {
    color: #dcdcaa;
}
.xhl-reg,
.xhl-reg * {
    color: #d16969;
}
.xhl-str,
.xhl-str *,
.xhl-str .xhl-cm {
    color: #ce9178;
}
.xhl-cm,
.xhl-cm * {
    color: #6a8a35;
}
.xhl-jsx {
    color: #569cd6;
}
.xhl-tmp,.xhl-tmp .xhl-punc,.xhl-tmp .xhl-bkt{
    color: rgb(86,156,214);
}
.xhl-def{color: `.concat(X,`;}
.xhl-def .xhl-punc {
    color: #ddd;
}
.xhl-pre {
    background-color: #111;
    padding: 10px;
    color: `).concat(X,`;
    font-size: 14px;
    margin: 0;
    overflow-x: auto;
    font-family: Menlo, Monaco, "Courier New", monospace;
    line-height: 18px;
}
.xhl-container {
    overflow: auto;
}
.xhl-container .xhl-pre{
    background-color: transparent;
    padding: 0;
    font-family: inherit;
    line-height: inherit;
    font-size: inherit;
    color: inherit;
    overflow: unset;
    color: `).concat(X,`;
}
.lhl-container{
    overflow: auto;
}
.xhl-pre::-webkit-scrollbar,
.lhl-container::-webkit-scrollbar,
.xhl-container::-webkit-scrollbar {
    width: 5px;
    cursor: pointer;
    height: 5px;
}
.xhl-pre::-webkit-scrollbar-button, 
.lhl-container::-webkit-scrollbar-button,
.xhl-container::-webkit-scrollbar-button {
    display: none;
}
.xhl-pre::-webkit-scrollbar-track,
.lhl-container::-webkit-scrollbar-track,
.xhl-container::-webkit-scrollbar-track {
    background-color: transparent;
}
.xhl-pre::-webkit-scrollbar-thumb,
.lhl-container::-webkit-scrollbar-thumb,
.xhl-container::-webkit-scrollbar-thumb {
    background-color: #666;
    cursor: pointer;
    background-clip: initial;
}
.xhl-pre::-webkit-scrollbar-thumb:hover,
.lhl-container::-webkit-scrollbar-thumb:hover,
.xhl-container::-webkit-scrollbar-thumb:hover {
    background-color: #888;
    cursor: pointer;
}
`)),document.head);function Te(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n=n.replace(/\&lt;/g,"__LT__").replace(/\&gt;/g,"__GT__");var e=Ae(n.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return t?"<pre class='xhl-pre'>".concat(e,"</pre>"):e}var wt=["var","new","const","let","typeof","in","function","this","true","false","null","undefined","async","delete","class","extends"],kt=["return","for","while","else if","if","else","switch","case","default","break","continue","await","yield","try","catch","finally","throw","export","import","from"],St=["console","window","document","Date","Array","Object","Boolean","Number","String","alert","RegExp","Function","JSON","Date"],j=["\\/","\\","\\(","\\)","\\[","\\]","\\{","\\}","\\+","\\-","\\*","\\=",",","\\.",":","%","_","\\$","@","#","\\^","\\|","!","~"],Ct=["\\(","\\)","\\[","\\]","\\{","\\}"],B="(^|(&lt;)|(&lt;)|[\\n\\t;<> "+j.join("")+"])",rt="(["+j.join("")+"\\n;<> ]|(&lt;)|(&lt;)|$)";function T(n,t){return'<span class="xhl-'+t+'">'+n+"</span>"}function Et(n,t,e,r){return n.replace(t,function(i){return typeof r=="string"?i.replace(r,T(r,e)):nt(r)==="object"?i.replace(r,function(o){return T(o,e)}):T(typeof r=="function"?r.apply(void 0,arguments):i,e)})}function $e(n,t,e,r){if(n.indexOf("</span>")!==-1){var i=typeof t=="string"?Pe(t):t[0];n=n.replace(i,function(s){var l=typeof t=="string"?new RegExp(t,"g"):t[1];return Et(s,l,e,r)})}else{var o=typeof t=="string"?new RegExp(t,"g"):t[1];n=Et(n,o,e,r)}return n}function Pe(n){return new RegExp(n+"(?![^<]*>|[^<>]*</)","g")}function Ae(n){return n=Le(n,[["\\$\\{(.*)\\}","tmp",function(t,e){return t.replace(e,T(e,"def"))}],[[/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)(?![^<]*>|[^<>]*<\/)/g,/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)/g],"str"],[`(//.*(
|$))|(\\/\\*(.|
)*?\\*\\/)`,"cm"],["\\/[a-zA-Z0-9"+j.slice(1).join("")+" ]+\\/[gi]?","reg"],H(wt,"k1"),H(wt,"k1"),H(kt,"k2"),H(kt,"k2"),H(St,"k3"),H(St,"k3"),[B+"[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]* ?\\(","f",new RegExp("[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]*","g")],[B+"[0-9]+(\\.?[0-9]+)?"+rt,"num",/[0-9]+(.?[0-9]+)?/g],[B+"[0-9]+(\\.?[0-9]+)?"+rt,"num",/[0-9]+(.?[0-9]+)?/g],[`&lt;\\/?[a-zA-Z\\-]*(\\/| |
|&gt;)`,"jsx"],["["+Ct.join("")+"]","bkt",new RegExp("["+Ct.join("")+"]","g")],["["+j.join("")+"]","punc",new RegExp("["+j.join("")+"]","g")],["["+j.join("")+"]","punc",new RegExp("["+j.join("")+"]","g")]]),n=n.replace(/\&lt;/g,T("<","punc")).replace(/\&gt;/g,T(">","punc")).replace(/;/g,T(";","punc")).replace(/&/g,T("&","punc")),n=n.replace(/__LT__/g,"&amp;lt;").replace(/__GT__/g,"&amp;gt;"),n}function H(n,t){return[B+"(("+n.join(")|(")+"))"+rt,t,new RegExp("(("+n.join(")|(")+"))","g")]}function Le(n,t){for(var e=0;e<t.length;e++)t[e].unshift(n),n=$e.apply(null,t[e]);return n}function je(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{code:""},t=n.code,e=t===void 0?"":t,r=n.borderRight,i=r===void 0?!1:r,o=n.startIndex,s=o===void 0?1:o,l=n.highlights,a=l===void 0?[]:l,c=n.style,h=c===void 0?{}:c,d=n.codeStyle,u=d===void 0?{}:d,f=n.lineHeight,v=f===void 0?w.LineHeight:f,p=n.lineCount,y={backgroundColor:"#111",color:"#fff",fontFamily:w.FontFamily,margin:"0",fontSize:"".concat(w.FontSize,"px"),paddingTop:"".concat(w.CodePadding,"px"),paddingBottom:"0",paddingLeft:"".concat(w.PLeft,"px"),lineHeight:"".concat(v,"px")},m=k({overflowX:"auto",borderRight:i?"1px solid #666":"none",flex:"1",position:"relative"},y),g=e.split(`
`),x=e;e.length<=1e4?x=Te(x,!1):console.warn("当前代码过长，已关闭代码高亮");var S=k({display:"flex"},h);p&&(S.minHeight="".concat(p*v+w.CodePadding*2,"px"));var P=Se(e,a);return E.div.style(S).append(E.div.style(k(k({},y),{},{flexDirection:"column",display:"flex",borderRight:"1px solid #aaa",padding:"".concat(w.CodePadding,"px 0px"),color:"#ddd",textAlign:"right"})).append(g.map(function(C,z){var F=P.find(function(Y){return Y.index===z});return E.span.style({padding:"0px 5px",backgroundColor:F?Dt(F):"transparent"}).text(s+z)})),E.pre.class("xhl-container").style(k(k({},m),u)).mounted(function(C){setTimeout(function(){if(P.length){var z=P[0];if(C.el.scrollLeft=z.left-(C.el.offsetWidth-z.width)/2,ResizeObserver){var F=new ResizeObserver(function(Y){var mt=Y[0].target;ye(".highlight-bar").forEach(function(Yt){return Yt.style("maxWidth","".concat(mt==null?void 0:mt.scrollWidth,"px"))})});F.observe(C.el)}}},100)}).append(Ee(P),E.div.class("xhl-pre").style(k(k({},u),{},{position:"relative"})).html(x))).el}var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={exports:{}};(function(n,t){(function(e,r){r(t)})(He,function(e){function r(a){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function i(a,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function o(a){return function(c){if(Array.isArray(c))return s(c)}(a)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(a)||function(c,h){if(c){if(typeof c=="string")return s(c,h);var d=Object.prototype.toString.call(c).slice(8,-1);return(d=d==="Object"&&c.constructor?c.constructor.name:d)==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?s(c,h):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(a,c){(c==null||c>a.length)&&(c=a.length);for(var h=0,d=new Array(c);h<c;h++)d[h]=a[h];return d}var l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.usePrevEmit=!0,this._map={},this._prevData={}}var c,h,d;return c=a,d=[{key:"_",get:function(){return this.__||(this.__=new a),this.__}},{key:"usePrevEmit",get:function(){return this._.usePrevEmit},set:function(u){this._.usePrevEmit=u}},{key:"emit",value:function(u){for(var f,v=arguments.length,p=new Array(1<v?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];(f=this._).emit.apply(f,[u].concat(p))}},{key:"off",value:function(u,f){this._.off(u,f)}},{key:"clear",value:function(u){this._.clear(u)}},{key:"on",value:function(u,f){this._.on(u,f)}},{key:"once",value:function(u,f){this._.once(u,f)}},{key:"onWait",value:function(u){this._.onWait(u)}},{key:"head",value:function(u,f){this._.head(u,f)}},{key:"headOnce",value:function(u,f){this._.headOnce(u,f)}}],(h=[{key:"hasEvent",value:function(u){return!!this._map[u]}},{key:"on",value:function(u,f){var v=this;if(r(u)==="object"){var p,y=[];for(p in u)y.push(this.on(p,u[p]));return function(){y.forEach(function(g){return g()})}}if(!f)throw new Error("fn is required");var m=this._formatTarget(f);return this._checkPrev(u,m)&&m.once?function(){}:(this._getList(u).push(m),function(){v.off(u,m)})}},{key:"_formatTarget",value:function(u,f){return typeof u=="function"?{listener:u,once:f!=null&&f,prev:this.usePrevEmit}:(typeof f=="boolean"&&(u.once=f),u)}},{key:"emit",value:function(u){for(var f=arguments.length,v=new Array(1<f?f-1:0),p=1;p<f;p++)v[p-1]=arguments[p];this._prevData[u]=v;var y=this._map[u];if(!y)return!1;for(var m=0;m<y.length;m++){var g=y[m];g.listener.apply(g,v),g.once&&(y.splice(m,1),m--)}return!0}},{key:"off",value:function(u,f){if(u=this._map[u],!u)return!1;var v=u.findIndex(function(p){return p===f||p.listener===f});return v!==-1&&(u.splice(v,1),!0)}},{key:"clear",value:function(u){return!!this._map[u]&&(delete this._map[u],delete this._prevData[u],!0)}},{key:"onWait",value:function(u,f){var v=this;return new Promise(function(p){var y=function(){for(var m=arguments.length,g=new Array(m),x=0;x<m;x++)g[x]=arguments[x];return p(g)};f&&(y=Object.assign({listener:y},f)),v.once(u,y)})}},{key:"destroy",value:function(){this._map={},this._prevData={}}},{key:"_checkPrev",value:function(u,f){return f.prev?(u=this._prevData[u],u!==void 0&&(f.listener.apply(f,o(u)),!0)):!1}},{key:"once",value:function(u,f){return this.on(u,this._formatTarget(f,!0))}},{key:"head",value:function(u,f){var v=this,p=this._formatTarget(f);return this._checkPrev(u,p)&&p.once?function(){}:(this._getList(u).unshift(p),function(){v.off(u,f)})}},{key:"headOnce",value:function(u,f){return this.head(u,this._formatTarget(f,!0))}},{key:"_getList",value:function(u){var f=this._map[u];return f||(this._map[u]=f=[]),f}}])&&i(c.prototype,h),d&&i(c,d),Object.defineProperty(c,"prototype",{writable:!1}),a}();l.version="0.0.3",e.Eveit=l,e.default=l,Object.defineProperty(e,"__esModule",{value:!0})})})(it,it.exports);var ft=it.exports;function ot(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function ze(n){if(Array.isArray(n))return ot(n)}function Oe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Me(r.key),r)}}function We(n,t,e){return t&&Tt(n.prototype,t),e&&Tt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ie(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(n){return ze(n)||Ie(n)||Be(n)||De()}function Fe(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Me(n){var t=Fe(n,"string");return typeof t=="symbol"?t:t+""}function Be(n,t){if(n){if(typeof n=="string")return ot(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ot(n,t):void 0}}var M=Symbol("E"),dt=function(n){return n[n.Fork=0]="Fork",n[n.Append=1]="Append",n}(dt||{}),Ft=function(){function n(){var t=this,e,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.max,s=o===void 0?0:o,l=i.useStorage,a=l===void 0?!1:l,c=i.storageKey,h=c===void 0?"_def_history_stack":c,d=i.mode,u=d===void 0?0:d,f=i.storageProvider,v=i.onStepChange,p=i.onHistorySizeChange,y=i.onHistoryOut;if(Oe(this,n),this.step=0,this.size=0,this.max=40,this.list=[],this.index=0,this.End=M,this.isActive=!1,this.max=s,this.mode=u,a!==!1&&(f||h)&&(a=!0),a&&(this.storageProvider=f||{read:function(){var g=localStorage.getItem(h);return g?JSON.parse(g):[]},write:function(g){localStorage.setItem(h,JSON.stringify(g))}}),v&&(this.osc=function(){return v(t.step)}),p&&(this.ohsc=function(){return p(t.size)}),this.oho=y,(e=this.osc)===null||e===void 0||e.call(this),(r=this.ohsc)===null||r===void 0||r.call(this),a){var m=this.storageProvider.read();m instanceof Promise?m.then(function(g){t.useCache(g)}):this.useCache(m)}}return We(n,[{key:"useCache",value:function(t){t.length!==0&&this.push.apply(this,$t(t))}},{key:"setMax",value:function(t){this.max=t}},{key:"setStep",value:function(t){var e;this.step=t,(e=this.osc)===null||e===void 0||e.call(this)}},{key:"setHistoryIndex",value:function(t){var e;this.isActive||(this.isActive=!0),this.index=t,this.size=t,(e=this.ohsc)===null||e===void 0||e.call(this)}},{key:"back",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canBack(e))return e>1&&(this.setStep(this.step-this.index),this.setHistoryIndex(0)),this.End;this.setStep(this.step-e),this.setHistoryIndex(this.index-e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"canBack",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index-t>=0}},{key:"first",value:function(){return this.list.length===0?M:(this.setStep(this.step-this.index),this.setHistoryIndex(0),this.list[0])}},{key:"last",value:function(){return this.list.length===0?M:(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1),this.list[this.list.length-1])}},{key:"forward",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canForward(e))return e>1&&(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1)),this.End;this.setStep(this.step+e),this.setHistoryIndex(this.index+e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"isEnd",value:function(t){return t===M}},{key:"canForward",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index+t<this.list.length}},{key:"pop",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=this.list.length;if(e<=t){var r=$t(this.list);return this.clear(),r}var i=e-t,o=this.list.splice(i),s=this.list.length;return s<this.index&&(this.setHistoryIndex(s),this.setStep(this.step-(this.index-s))),o}},{key:"push",value:function(){var t,e=this.list.length;this.index<e&&(this.step++,this.index++,this.mode===0&&this.list.splice(this.index));var r=arguments.length,i=0,o=r;this.max>0&&e+r>this.max&&(i=e+r-this.max,o=r-i),(t=this.list).push.apply(t,arguments),i&&this.list.splice(0,i),this._onListChange(),o&&(this.mode===1?this.setHistoryIndex(this.list.length):this.setHistoryIndex(this.index+o)),this.mode===1?this.setStep(this.list.length):this.setStep(this.step+o),this.isActive&&(this.isActive=!1)}},{key:"clear",value:function(){this.list=[],this._onListChange(),this.setHistoryIndex(0),this.setStep(0),this.isActive=!1}},{key:"replace",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.index;typeof this.list[e]>"u"||(this.list[e]=t,this._onListChange())}},{key:"isLatest",get:function(){return this.index===this.list.length-1}},{key:"_onListChange",value:function(){var t;(t=this.storageProvider)===null||t===void 0||t.write(this.list)}},{key:"current",value:function(){return this.list[this.index]}}])}();Ft.Mode=dt;class Ne{constructor(t,e){this.pushedCurrent=!1,this.provider=e,this.history=new Ft({max:t,mode:dt.Append});const r=e.read();r instanceof Promise?r.then(i=>{this._initHistory(i)}):this._initHistory(r)}_initHistory(t){const e=JSON.parse(t);this.history.push(...e)}up(t){return this.history.isActive||(this.push(t),this.history.back(),this.pushedCurrent=!0),this.history.canBack()?this.history.back():null}down(){return this.history.canForward()?this.history.forward():null}checkLatest(t){this.history.isLatest&&(this.history.replace(t),this.save())}push(t){this.pushedCurrent&&(this.history.pop(),this.pushedCurrent=!1),this.history.push(t),this.save()}save(){this.provider.write(JSON.stringify(this.history.list))}clear(){this.pushedCurrent=!1,this.history.clear(),this.save()}}function st(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Ve(n){if(Array.isArray(n))return st(n)}function U(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ze(r.key),r)}}function Z(n,t,e){return t&&Pt(n.prototype,t),e&&Pt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Re(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qe(n){return Ve(n)||Re(n)||Je(n)||Ke()}function Ue(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ze(n){var t=Ue(n,"string");return typeof t=="symbol"?t:t+""}function D(n){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(n)}function Je(n,t){if(n){if(typeof n=="string")return st(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?st(n,t):void 0}}function pt(n){return!!(n!=null&&n.__isRef)}var at=null;function Ge(n){return at=n,function(){at=null}}function Mt(){return at}var Ye=function(){function n(t,e){var r=this;U(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=Ge(function(o,s){var l=function(){if(r._dirty=!0,r._listeners.length>0){var c=r._value,h=r.value;r._listeners.forEach(function(d){d(h,c)})}},a=typeof s=="string"?o.$sub(s,l):o.sub(l);r._clearSub.push(a)});this._refreshValue(),i()}return Z(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),Vt(this),(t=Mt())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function Xe(n,t){return J(n)?n:new Ye(n,t)}function J(n){return!!(n!=null&&n.__isComputed)}function Bt(n){return typeof n=="function"||J(n)}function Nt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},r={},i={$sub:function(h,d){return e[h]||(e[h]=[]),e[h].push(d),function(){i.$unsub(h,d)}},$unsub:function(h,d){if(e[h]){if(typeof d>"u")return delete e[h],!0;var u=e[h].indexOf(d);return u===-1?!1:(e[h].splice(u,1),!0)}},$get:function(h){return r[h]}},o={},s=function(h){var d=n[h];r[h]=d,o[h]={get:function(){var u;Vt(i,h),(u=Mt())===null||u===void 0||u(i,h);var f=r[h];return f},set:function(u){var f,v=r[h];r[h]=u,(f=e[h])===null||f===void 0||f.forEach(function(p){p(u,v)})}},i[h]=d};for(var l in n)s(l);Object.defineProperties(i,o);var a=function(h){i[h]=function(){for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];return t[h].apply(i,u)}};for(var c in t)a(c);return i}var W={};function Vt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;J(n)||pt(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(W,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function Qe(n,t){if(!W)throw new Error("Bind 传入参数错误");(J(t)||pt(t))&&(t=t.value);var e=W.get,r=W.set,i=W.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,s="string";if(o.tagName==="INPUT"){var l=n.attr("type");l==="number"||l==="range"?s="number":(l==="radio"||l==="checkbox")&&(s="boolean")}var a=function(){if(s==="boolean")return o.checked;var u=n.value();return s==="number"?parseFloat(u):u},c=function(u){if(s==="boolean"){o.checked=u;return}n.value(u)},h=!1,d=function(){h=!0,r(a()),h=!1};c(e()),n.on("input",function(){d()}),n.on("change",function(){d()}),i(function(u){h||c(u)})}function L(n,t){if(pt(n))n.sub(function(){t(n.value,!1)}),t(n.value,!0);else if(Bt(n)){var e=Xe(n);e.sub(function(){t(e.value,!1)}),t(e.value,!0)}else return t(n,!0),!1;return!0}var Rt=function(){function n(t){U(this,n),this.__ld_type=G.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return Z(n,[{key:"text",value:function(t){var e=this;return L(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),tn=function(){function n(){U(this,n),this.__ld_type=G.Frag,this.children=[],this.el=document.createDocumentFragment()}return Z(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return vt(r,function(o,s){t.children.push(s),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),G=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(G||{});function vt(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){vt(e,t);return}var i=e;Bt(i)?(i=new Rt(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var en=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,At=/!important$/,nn=/^[0-9]+$/;function rn(n,t){n=on(n);var e="";return At.test(t)&&(e="important",t=t.replace(At,"")),nn.test(t)&&en.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function on(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var sn=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function Kt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new $(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],s=0;s<i.length;s++)o.push(new $(i[s]));return o}var _=function(){var n=function(e){return new $(e)},t={frag:{get:function(){return new tn}},text:{get:function(){var e=function(r){return new Rt(r)};return e.text=e,e}}};return sn.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function an(n,t){var e,r=t;typeof t=="string"?r=Kt(t,!0):t instanceof HTMLElement&&(r=new $(t)),Array.isArray(n)?(e=r).append.apply(e,qe(n)):r.append(n)}var $=function(){function n(t){U(this,n),this.__ld_type=G.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return Z(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(L(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(D(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(L(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(D(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),L(e,function(s){return r.el.__xr_data[t]=s}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return L(e,function(o){var s=rn(t,o),l=s.important,a=s.cssValue,c=s.cssKey;r.setProperty(c,a,l)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(L(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(D(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,s=function(l){var a;e.self&&l.target!==i||(e.stop&&l.stopPropagation(),e.prevent&&l.preventDefault(),e.once&&i.removeEventListener(t,s,e.capture),(a=e.listener)===null||a===void 0||a.call(e,l))};i.addEventListener(t,s,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return vt(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return L(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Kt(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return Qe(this,t),this}}])}();function Lt(){const n=navigator.userAgent;return/macintosh|mac os x/i.test(n)}function ut(n){return Lt()&&n.metaKey||!Lt()&&n.ctrlKey}function un(n){let t=!1;return n.on("compositionstart",()=>{t=!0}),n.on("compositionend",()=>{t=!1}),()=>t}function qt(n,t=!0,e=""){return n instanceof HTMLElement?new $(n):n instanceof $?n:typeof n=="string"?_.div[t?"html":"text"](n+e):_.div[t?"html":"text"](n.toString()+e)}class ln{constructor(){this.container=_.div.class("term-display-box").on("click",t=>{t.stopPropagation()})}pushContent(t,e){this.container.append(qt(t,e,`
`))}}const jt="web-term-container",cn=2,Ut={FullParent:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}};function Ht(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function zt(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=hn(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(a){throw a},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var a=e.next();return s=a.done,a},e:function(a){l=!0,o=a},f:function(){try{s||e.return==null||e.return()}finally{if(l)throw o}}}}function hn(n,t){if(n){if(typeof n=="string")return Ht(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ht(n,t):void 0}}var Zt="  ";function fn(n){Zt=n}function dn(n){pn(this,n,Zt)}function pn(n,t,e){var r=e.length;if(t.code==="Tab"){t.preventDefault();var i=Ot(n),o=i.startLineIndex,s=i.start,l=i.end,a=i.lineText.split(`
`);if(t.shiftKey){var c=!0,h=zt(a),d;try{for(h.s();!(d=h.n()).done;){var u=d.value;u.startsWith(e)?(n.selectionStart=o,n.selectionEnd=o+r,document.execCommand("delete",!1),c&&u.startsWith(e+e)&&(s-=r),l-=r,o+=u.length-r+1):o+=u.length+1,c=!1}}catch(S){h.e(S)}finally{h.f()}console.log(s,l),n.selectionStart=s,n.selectionEnd=l;return}if(a.length===1){Q(e);return}s+=r;var f=zt(a),v;try{for(f.s();!(v=f.n()).done;){var p=v.value;n.selectionStart=n.selectionEnd=o,Q(e),o+=r+p.length+1,l+=r}}catch(S){f.e(S)}finally{f.f()}n.selectionStart=s,n.selectionEnd=l}else if(t.code==="Enter"&&!t.ctrlKey){for(var y=Ot(n),m=y.lineText.split(`
`)[0],g=`
`,x=0;m.substring(x,x+r)===e;)g+=e,x+=r;x>0&&(Q(g),t.preventDefault())}}function Q(n){n&&document.execCommand("insertText",!1,n)}function Ot(n){var t=n.selectionStart,e=n.selectionEnd,r="",i=n.value;r=i.substring(t,e);var o=i.substring(0,t),s=o.lastIndexOf(`
`),l=s+1;return{start:t,end:e,text:r,lineText:i.substring(l,e),line:r.split(`
`).length,startLineIndex:l}}const Jt={padding:5,fontSize:14,color:"#fff",background:"#000"};function vn(n){return n?n.charCodeAt(0)>=128:!1}class Gt extends ft.Eveit{constructor({header:t="",paddingTop:e=5,paddingLeft:r=5,size:i="full",mode:o="inline",tab:s="  ",fontSize:l=Jt.fontSize}){super(),this.SingleCharWidth=9,this.MultiCharWidth=15,this.fontSize=0,this.lineHeight=0,this.wrapLine=!0,this.store=Nt({cx:0,cy:0}),this.header="",this._prevHeader="",this._prevHeaderWidth=0,this._pasteTimer=null,this._prevPos={x:-1,y:-1},this._isShowCursor=!1,this.setFontSize(l),this.size=i,this.mode=o,fn(s),this.paddingTop=e,this.paddingLeft=r;const a=_.canvas;this.ctx=a.el.getContext("2d"),this.resize(!0),this.header=t,this.render(),this._monitorStart()}setFontSize(t){this.fontSize=t,this.lineHeight=t+2}get value(){const t=this.fullValue,e=this.header.length;return e?t.substring(e):t}get fullValue(){return this.textarea.value()}get beforeValue(){const t=this.fullValue,e=this.header.length,r=this.textarea.el.selectionStart;return typeof r=="number"&&r>0?t.substring(e,r):t.substring(e)}get headerWidth(){const t=this.header;return(t!==this._prevHeader||this._prevHeaderWidth<0)&&(this._prevHeader=t,this._prevHeaderWidth=this.measureTextWidth(t)),this._prevHeaderWidth}_monitorStart(){setTimeout(()=>{this.textarea.el.clientWidth?this.relocateCursorPosition():this._monitorStart()},100)}render(){const t=this.size==="full";this.container=_.div.style({position:"relative",height:t?"100%":`${this.lineHeight+2*this.paddingTop}px`}).append(this.cursor=_.div.class("editor-cursor").append(_.div.class("editor-cursor-border"),this.cursorText=_.div.class("editor-cursor-text")),this.textarea=_.textarea.class("editor-textarea").value(this.header).style({...Ut.FullParent,padding:`${this.paddingTop}px ${this.paddingLeft}px`,backgroundColor:"transparent",border:"none",outline:"none",resize:"none",zIndex:"1",caretColor:"transparent"})),this.wrapLine&&this.textarea.style({wordBreak:"break-all",whiteSpace:"pre-wrap"}),this.initEvents()}initEvents(){let t=!1;const e=this.textarea.el,r=a=>a.code==="Backspace"||a.code==="Enter",i=un(this.textarea);let o=null,s=this.compatSelChange();this.textarea.on("keydown",a=>{if(!i()){if(this.mode==="inline"){if(a.code==="Enter")if(ut(a))this.pushText(`
`);else{a.preventDefault(),this.emit("key","Enter");return}else if(a.code==="ArrowUp"||a.code==="ArrowDown"||a.code==="Tab"){a.preventDefault(),this.emit("key",a.code);return}}if(a.code==="Tab"&&e.selectionStart!==e.selectionEnd&&this.showCursor(!1),dn.call(e,a),r(a)&&(t=!0),a.code==="Backspace"){const{x:c,y:h,isRange:d}=this.getCursorPosition();h===0&&c<=this.headerWidth&&!d&&a.preventDefault()}ut(a)&&a.code==="KeyZ"&&(clearTimeout(o),o=setTimeout(()=>{this.relocateCursorPosition()},50))}}).on("keyup",a=>{i()||r(a)&&(t=!1)}).on("paste",()=>{this._pasteTimer=setTimeout(()=>{this.relocateCursorPosition()},50)}).on("input",a=>{if(a.preventDefault(),t&&this.relocateCursorPosition(),this.size==="auto"){const c=this._countContentHeight(this.fullValue,!0);c!=e.clientHeight&&this.textarea.style("height",`${c}px`)}this.emit("input")}).on("selectionchange",()=>{s&&(s(),s=null),this._onSelectionChange()}).on("scroll",()=>{this.relocateCursorPosition()}).on("focus",()=>{this.cursor.addClass("cursor-focus")}).on("blur",()=>{this.cursor.removeClass("cursor-focus")}).on("cut",()=>{const a=this.textarea.el;a.selectionStart!==a.selectionEnd&&this.relocateCursorPosition()});let l=e.clientWidth;globalThis.addEventListener("resize",()=>{e.clientWidth!==l&&(l=e.clientWidth,this.relocateCursorPosition())})}_countContentHeight(t,e=!1){return this._countContentSize(t,e).height}_countContentSize(t,e=!1){const r=t.split(`
`);let i=0;return{lines:r.map(s=>{const l=this.countSingleLineInfo(s);return i+=l.length*this.lineHeight,l}),height:i+(e?2*this.paddingTop:0)}}countSingleLineInfo(t){const e=this._getLineBoxWidth();if(e<=0)return[{content:t,width:this.measureTextWidth(t)}];const r=Math.floor(e/this.MultiCharWidth);if(t.length<=r)return[{content:t,width:this.measureTextWidth(t)}];const i=[];let o=t.length,s=0,l=s+r;const a=()=>{const c=t.substring(s,l);return{content:c,width:this.measureTextWidth(c)}};for(;o>r;){let{content:c,width:h}=a(),d,u;do{if(d=c,u=h,l>=t.length){l++;break}c+=t[l],h=this.measureTextWidth(c),l++}while(h<=e);i.push({content:d,width:u}),s=l-1,l=s+r,o-=d.length}return s<t.length&&i.push(a()),i}_onSelectionChange(){const t=this.textarea.el;if(t.selectionStart===t.selectionEnd)this.relocateCursorPosition();else{if(t.clientWidth===0)return;const e=this.header.length;t.selectionStart<e&&(t.selectionStart=e);const r=t.value.length;t.selectionEnd>r&&(t.selectionEnd=r)}}compatSelChange(){const t=()=>{const e=this.textarea.el;document.activeElement===e&&this._onSelectionChange()};return document.addEventListener("selectionchange",t),()=>document.removeEventListener("selectionchange",t)}measureTextWidth(t){return t?this.ctx.measureText(t).width:0}_getLineBoxWidth(){return this.textarea.el.clientWidth-2*this.paddingLeft}getCursorPosition(){var h,d;const t=this.textarea.el,e=t.selectionStart,r=t.selectionEnd,i=t.value.substring(0,e),o=this._getLineBoxWidth(),s=t.value[e]||"";let l=0,a=0;if(this.wrapLine){const u=this._countContentSize(i);a=u.height-this.lineHeight,l=((d=(h=u.lines.pop())==null?void 0:h.pop())==null?void 0:d.width)||0}else l=this.measureTextWidth(i),a=(i.split(`
`).length-1)*this.lineHeight;const c=vn(s)?this.MultiCharWidth:this.SingleCharWidth;return l+c>o&&(l=0,a+=this.lineHeight),(this._prevPos.x!==l||this._prevPos.y!==a)&&(Object.assign(this._prevPos,{x:l,y:a}),this.emit("cursor-change",{x:l,y:a,word:s,wordWidth:c,beforeValue:this.beforeValue,value:this.value})),{x:l,y:a,isRange:e!=r,word:s,wordWidth:c}}showCursor(t=!0){this._isShowCursor!==t&&(this.cursor.style("visibility",t?"visible":"hidden"),this._isShowCursor=t)}relocateCursorPosition(){clearTimeout(this._pasteTimer);const t=this.textarea.el;this.showCursor();const{x:e,y:r,word:i,wordWidth:o}=this.getCursorPosition();let s=e;if(r===0&&e<this.headerWidth){const l=this.header.length;t.setSelectionRange(l,l),s=this.headerWidth}this.cursor.style({left:`${s+this.paddingLeft}px`,top:`${r+this.paddingTop-t.scrollTop}px`,width:`${o}px`}),this.cursorText.text(i)}focus(){this.textarea.el.focus()}pushText(t){const e=this.textarea.el;e.selectionStart=e.selectionEnd=e.value.length,this.insertText(t)}insertText(t){t&&document.execCommand("insertText",!1,t)}replaceText(t){this.clearContent(!1),this.pushText(t),this.relocateCursorPosition()}clearContent(t=!0){const e=this.textarea.el,r=e.value,i=!r.startsWith(this.header),o=this.header.length;e.selectionStart=i?0:o,e.selectionEnd=r.length+1,o!==r.length&&(document.execCommand("delete",!1),i&&this.insertText(this.header),t&&this.relocateCursorPosition())}setCursorToHead(){const t=this.textarea.el;t.selectionStart=t.selectionEnd=this.header.length}resize(t=!1){if(this.ctx.font=`${this.fontSize}px Menlo, Monaco, "Courier New", monospace`,this.SingleCharWidth=this.measureTextWidth("a"),this.MultiCharWidth=this.measureTextWidth("一"),t)return;this._prevHeaderWidth=-1,this.size==="full"||this.container.style("height",`${this.lineHeight+2*this.paddingTop}px`),this.relocateCursorPosition()}}class mn extends ft.Eveit{constructor(t,e){super(),this.editor=new Gt({mode:"full",paddingLeft:0,paddingTop:0,fontSize:e.fontSize}),this.container=_.div.style({...Ut.FullParent,padding:e.padding,position:"relative",zIndex:100,flexDirection:"column"}).append(this.title=_.div.class("term-editor-title").text(""),this.editor.container.style({flex:"1",height:"auto"})).show(()=>t.showEditor,"flex"),this.container.on("click",r=>{r.stopPropagation()}),this.container.on("keydown",r=>{if(r.code==="KeyS"&&ut(r)){const i=this.editor.value;this.editor.clearContent(),this.emit("edit-done",i),r.preventDefault()}r.code==="Escape"&&(this.editor.clearContent(),this.emit("edit-cancel"))})}vi(t,e="",r=!0){this.editor.textarea.el.focus(),this.editor.replaceText(t),this.title.style({paddingBottom:e?"5px":0})[r?"html":"text"](e)}}class yn{constructor(){this.container=_.div.class("term-below-box").on("click",t=>{t.stopPropagation()})}write(t,e){const r=this.container.children();r.length>0&&r[r.length-1].remove(),this.push(t,e)}push(t,e){this.container.append(qt(t,e,`
`))}clear(){this.container.empty()}}function gn(){const n="_web_term_ui_history;";return{read:()=>localStorage.getItem(n)||"[]",write:t=>(localStorage.setItem(n,t),!0)}}class bn extends ft.Eveit{constructor({title:t="",titleHtml:e=!0,historyMax:r=100,storageProvider:i=gn(),container:o,header:s,theme:l,style:a={}}={}){if(super(),this.style={...Jt},this.store=Nt({showEditor:!1}),this.theme="dark",this.title=t,this.history=new Ne(r,i),Object.assign(this.style,a),this.editor=new mn(this.store,this.style),this.input=new Gt({paddingTop:cn,paddingLeft:0,header:s,size:"auto",mode:"inline",fontSize:this.style.fontSize}),this.display=new ln,this.below=new yn,t&&this.display.pushContent(t,e),!o)this.container=_.div.class(jt).style({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),an(this.container,"body");else{if(typeof o=="string"){const c=document.querySelector(o);if(!c)throw new Error("Container not exists");this.container=new $(c)}else this.container=new $(o);this.container.addClass(jt)}this.initEvents(),l?this.setTheme(l):this.setColor(a),this._setFontSize(this.style.fontSize),this.render()}get value(){return this.input.value}get beforeValue(){return this.input.beforeValue}get header(){return this.input.header}initEvents(){this.input.on("key",e=>{switch(e){case"Enter":{const r=this.input.value;r&&this.history.push(r),this.emit("enter",r)}break;case"ArrowDown":{const r=this.history.down();typeof r=="string"&&this.input.replaceText(r)}break;case"ArrowUp":{const r=this.history.up(this.input.value);typeof r=="string"?this.input.replaceText(r):this.input.setCursorToHead()}break;case"Tab":this.emit("tab",this.input.beforeValue);break}}),this.input.on("input",()=>{this.history.checkLatest(this.input.value),this.emit("input",this.value,this.input.beforeValue)}),this.container.on("click",()=>{this.input.focus()});const t=()=>{this.store.showEditor=!1,this.input.focus()};this.editor.on("edit-done",e=>{t(),this.emit("edit-done",e)}),this.editor.on("edit-cancel",()=>{t(),this.emit("edit-cancel")}),this.editor.editor.on("cursor-change",e=>{this.emit("edit-cursor-change",e)}),this.input.on("cursor-change",e=>{this.emit("cursor-change",e)})}render(){this.container.style({overflow:()=>this.store.showEditor?"hidden":"auto"}).append(this.mainContainer=_.div.style("padding",this.style.padding).append(this.display.container,this.input.container,this.below.container).show(()=>!this.store.showEditor),this.editor.container)}setTheme(t){const e="#fff",r="#000",i=t==="light";this.theme=t,this.setColor({background:i?e:r,color:i?r:e})}setColor(t){Object.assign(this.style,t),this.container.style({"--background":this.style.background,"--color":this.style.color})}_setFontSize(t){this.style.fontSize=t;const e=t+2;this.container.style({"--font-size":t,"--line-height":e})}get fontSize(){return this.style.fontSize}setFontSize(t){this._setFontSize(t),this.editor.editor.setFontSize(t),this.input.setFontSize(t),this.resize()}clearInputHistory(){this.history.clear()}write(t,e=!0){this.display.pushContent(this.input.fullValue,e),t&&this.display.pushContent(t,e),this.input.clearContent(),this.scrollToBottom()}insertEdit(t){this.editor.editor.insertText(t)}replaceEdit(t){this.editor.editor.replaceText(t)}pushEdit(t){this.editor.editor.pushText(t)}vi(t="",e="",r=!0){this.store.showEditor=!0,this.editor.vi(t,e,r)}clearTerminal(){this.display.container.empty(),this.input.clearContent()}newLine(t=!0){this.write("",t)}setHeader(t){this.input.header=t}scrollToBottom(){this.container.el.scrollTop=this.container.el.scrollHeight}focus(){this.input.focus()}writeBelow(t,e=!0){this.below.write(t,e),this.scrollToBottom()}pushBelow(t,e=!0){this.below.push(t,e),this.scrollToBottom()}clearBelow(){this.below.clear()}resize(){this.editor.editor.resize(),this.input.resize()}}const b=new bn({title:`This is a Demo. Type "help" to get Help.
`,container:"#container",header:"/ admin$ ",style:{padding:10}});b.on("enter",n=>{if(!n)b.newLine();else if(n==="vi"||n.startsWith("vi "))b.vi(`test
11`,`${n.substring(3)} "Ctrl/Cmd + s" to Save, "Esc" to Exit`);else if(n==="clear")b.clearTerminal();else if(n==="help")xn();else if(n==="progress")_n();else if(n.startsWith("header"))b.setHeader(`/ ${n.replace("header","").trim()}$ `),b.write(`SetHeader "${n}"`);else if(n==="theme"){const t=b.theme==="dark"?"light":"dark";b.setTheme(t),b.write(`Set theme to "${t}"`)}else if(n.startsWith("font")){const t=parseInt(n.replace("font","").trim());b.setFontSize(t),b.write(`Set FontSize = "${t}"`)}else b.write(`Exec "${n}"`)});b.on("edit-done",n=>{b.write(`Edit Save: ${n}`)});b.on("tab",()=>{b.insertEdit("[test]")});function xn(){b.write(["vi      : Open vi Editor","clear   : Clear Terminal","progress: Mock Progress Bar",'header  : "header <name>" to Set Header',"theme   : Toggle theme between dark and light",'font    : "font <size>" to set font-size'].join(`
`),!1)}function _n(){let n=0;const t=Date.now(),e=setInterval(()=>{n+=Math.round(Math.random()*10),n>100&&(n=100,clearInterval(e)),b.writeBelow(`Progressing...[${n}%]`),n===100&&(b.clearBelow(),b.write(`Progress Done in ${Date.now()-t}ms!`))},100)}document.getElementById("code").appendChild(je({code:`import {WebTerm} from 'web-term-ui';
const term = new WebTerm({
    title: 'This is a Demo. Type "help" to get Help.\\n',
    container: '#container',
    header: '/ admin$ ',
    // theme: 'light',
    style: {padding: 10}
});
term.on('enter', v => {
    if (!v) {
        term.newLine();
    } else if (v === 'vi' || v.startsWith('vi ')) {
        term.vi('test\\n11', \`\${v.substring(3)} "Ctrl/Cmd + s" to Save, "Esc" to Exit\`);
    } else if (v === 'clear') {
        term.clearTerminal();
    } else if (v === 'help') {
        writeHelp();
    } else if (v === 'progress') {
        mockProgress();
    } else if (v.startsWith('header')) {
        term.setHeader(\`/ \${v.replace('header', '').trim()}$ \`);
        term.write(\`SetHeader "\${v}"\`);
    } else if (v === 'theme') {
        const target = term.theme === 'dark' ? 'light' : 'dark';
        term.setTheme(target);
        term.write(\`Set theme to "\${target}"\`);
    } else if (v.startsWith('font')) {
        const size = parseInt(v.replace('font', '').trim());
        term.setFontSize(size);
        term.write(\`Set FontSize = "\${size}"\`);
    } else {
        term.write(\`Exec "\${v}"\`);
    }
});
term.on('edit-done', v => {
    term.write(\`Edit Save: \${v}\`);
});
term.on('tab', () => {
    term.insertEdit('[test]');
});
function writeHelp () {
    term.write([
        'vi      : Open vi Editor',
        'clear   : Clear Terminal',
        'progress: Mock Progress Bar',
        'header  : "header <name>" to Set Header',
        'theme   : Toggle theme between dark and light',
        'font    : "font <size>" to set font-size'
    ].join('\\n'), false);
}
function mockProgress () {
    let progress = 0;
    const time = Date.now();
    const interval = setInterval(() => {
        progress += Math.round(Math.random() * 10);
        if (progress > 100) {
            progress = 100;
            clearInterval(interval);
        }
        term.writeBelow(\`Progressing...[\${progress}%]\`);
        if (progress === 100) {
            term.clearBelow();
            term.write(\`Progress Done in \${Date.now() - time}ms!\`);
        }
    }, 100);
}`}));window.term=b;
