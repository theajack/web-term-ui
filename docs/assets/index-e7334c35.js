(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function Pt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Ot(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=xe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,d=!1;return{s:function(){e=e.call(n)},n:function(){var l=e.next();return a=l.done,l},e:function(l){d=!0,o=l},f:function(){try{a||e.return==null||e.return()}finally{if(d)throw o}}}}function me(n,t,e){return(t=be(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function C(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(e),!0).forEach(function(r){me(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Lt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function ge(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function be(n){var t=ge(n,"string");return typeof t=="symbol"?t:t+""}function lt(n){"@babel/helpers - typeof";return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(n)}function xe(n,t){if(n){if(typeof n=="string")return Pt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Pt(n,t):void 0}}var S={FontFamily:'Menlo, Monaco, "Courier New", monospace',FontSize:14,LineHeight:18,CodePadding:10,PLeft:8};function _e(n){var t=document.createElement("canvas"),e=t.getContext("2d");return e.font=n,function(r){return r?e.measureText(r).width:0}}function ct(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function ke(n){if(Array.isArray(n))return ct(n)}function J(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function It(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ce(r.key),r)}}function X(n,t,e){return t&&It(n.prototype,t),e&&It(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function we(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ee(n){return ke(n)||we(n)||Te(n)||Se()}function $e(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ce(n){var t=$e(n,"string");return typeof t=="symbol"?t:t+""}function B(n){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(n)}function Te(n,t){if(n){if(typeof n=="string")return ct(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ct(n,t):void 0}}function _t(n){return!!(n!=null&&n.__isRef)}var ft=null;function je(n){return ft=n,function(){ft=null}}function Ae(){return ft}var Pe=function(){function n(t,e){var r=this;J(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=je(function(o,a){var d=function(){if(r._dirty=!0,r._listeners.length>0){var h=r._value,c=r.value;r._listeners.forEach(function(s){s(c,h)})}},l=typeof a=="string"?o.$sub(a,d):o.sub(d);r._clearSub.push(l)});this._refreshValue(),i()}return X(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),Le(this),(t=Ae())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function Oe(n,t){return Y(n)?n:new Pe(n,t)}function Y(n){return!!(n!=null&&n.__isComputed)}function Yt(n){return typeof n=="function"||Y(n)}var F={};function Le(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;Y(n)||_t(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(F,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function Ie(n,t){if(!F)throw new Error("Bind 传入参数错误");(Y(t)||_t(t))&&(t=t.value);var e=F.get,r=F.set,i=F.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,a="string";if(o.tagName==="INPUT"){var d=n.attr("type");d==="number"||d==="range"?a="number":(d==="radio"||d==="checkbox")&&(a="boolean")}var l=function(){if(a==="boolean")return o.checked;var u=n.value();return a==="number"?parseFloat(u):u},h=function(u){if(a==="boolean"){o.checked=u;return}n.value(u)},c=!1,s=function(){c=!0,r(l()),c=!1};h(e()),n.on("input",function(){s()}),n.on("change",function(){s()}),i(function(u){c||h(u)})}function I(n,t){if(_t(n))n.sub(function(){t(n.value)}),t(n.value);else if(Yt(n)){var e=Oe(n);e.sub(function(){t(e.value)}),t(e.value)}else t(n)}var Qt=function(){function n(t){J(this,n),this.__ld_type=Q.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return X(n,[{key:"text",value:function(t){var e=this;return I(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),He=function(){function n(){J(this,n),this.__ld_type=Q.Frag,this.children=[],this.el=document.createDocumentFragment()}return X(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return kt(r,function(o,a){t.children.push(a),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),Q=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(Q||{});function kt(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){kt(e,t);return}var i=e;Yt(i)?(i=new Qt(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var De=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,Ht=/!important$/,Me=/^[0-9]+$/;function We(n,t){n=ze(n);var e="";return Ht.test(t)&&(e="important",t=t.replace(Ht,"")),Me.test(t)&&De.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function ze(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var Fe=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function Ne(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return wt(n,t,document)}function wt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new Z(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],a=0;a<i.length;a++)o.push(new Z(i[a]));return o}var P=function(){var n=function(e){return new Z(e)},t={frag:{get:function(){return new He}},text:{get:function(){var e=function(r){return new Qt(r)};return e.text=e,e}}};return Fe.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function Be(n,t){var e,r=t;typeof t=="string"?r=wt(t,!0):t instanceof HTMLElement&&(r=new Z(t)),Array.isArray(n)?(e=r).append.apply(e,Ee(n)):r.append(n)}var Z=function(){function n(t){J(this,n),this.__ld_type=Q.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return X(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(I(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(B(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(I(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(B(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),I(e,function(a){return r.el.__xr_data[t]=a}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return I(e,function(o){var a=We(t,o),d=a.important,l=a.cssValue,h=a.cssKey;r.setProperty(h,l,d)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(I(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(B(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,a=function(d){var l;e.self&&d.target!==i||(e.stop&&d.stopPropagation(),e.prevent&&d.preventDefault(),e.once&&i.removeEventListener(t,a,e.capture),(l=e.listener)===null||l===void 0||l.call(e,d))};i.addEventListener(t,a,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return kt(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return I(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return wt(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return Ie(this,t),this}}])}();function Re(n,t){var e=[],r="#0b8c0b",i=.4,o=_e("14px Menlo, Monaco, Courier New, monospace"),a=Ot(t),d;try{for(a.s();!(d=a.n()).done;){var l=d.value,h={color:l.color||r,opacity:l.opacity||i};if(Ke(l)){var c=n.matchAll(l.match),s=Ot(c),u;try{for(s.s();!(u=s.n()).done;){var f=u.value,p=n.substring(0,f.index),v=p.split(`
`),m=v.pop();e.push(C({left:o(m)+S.PLeft,top:v.length*S.LineHeight,width:o(f[0]),index:v.length},h))}}catch(k){s.e(k)}finally{s.f()}}else{var y=l.row,g=l.column,x=l.range,b=x===void 0?1:x,_=n.split(`
`);debugger;e.push(C({left:o(_[y].substring(0,g))+S.PLeft,top:y*S.LineHeight,index:y,width:o(_[y].substring(g,g+b))},h))}}}catch(k){a.e(k)}finally{a.f()}return e}function Ke(n){return typeof n.match<"u"}function Ve(n){return n.map(function(t){return P.div.class("highlight-bar").style({position:"absolute",backgroundColor:te(t),left:"0",top:"".concat(S.CodePadding+t.top,"px"),height:"".concat(S.LineHeight,"px"),width:"100%"}).append(P.span.style({position:"absolute",backgroundColor:t.color,left:"".concat(t.left,"px"),width:"".concat(t.width,"px"),height:"100%"}))})}function te(n){var t=n.color,e=n.opacity;if(t[0]==="#"){var r=function(o){var a=Math.round(o*1.6*10).toString(16);return a.length===2?"F":a},i=r(e);return t.length===4?"".concat(t).concat(i):"".concat(t).concat(i).concat(i)}else if(t.startsWith("rgba"))return t.replace(/,([0-9]*)\)/,",".concat(e,")"));return t.replace(/,([0-9]*)\)/,function(o,a){return",".concat(a,",").concat(e,")")})}var ot="#9cdcfe";Be(P.style.text(`
.xhl-punc {
    color: #ddd;
}
.xhl-bkt {
    color: #ffe11c;
}
.xhl-k1 {
    color: #569cd6;
}
.xhl-k2 {
    color: #c586c0;
}
.xhl-k3 {
    color: #3ac9b0;
}
.xhl-num {
    color: #b5cea8;
}
.xhl-f {
    color: #dcdcaa;
}
.xhl-reg,
.xhl-reg * {
    color: #d16969;
}
.xhl-str,
.xhl-str *,
.xhl-str .xhl-cm {
    color: #ce9178;
}
.xhl-cm,
.xhl-cm * {
    color: #6a8a35;
}
.xhl-jsx {
    color: #569cd6;
}
.xhl-tmp,.xhl-tmp .xhl-punc,.xhl-tmp .xhl-bkt{
    color: rgb(86,156,214);
}
.xhl-def{color: `.concat(ot,`;}
.xhl-def .xhl-punc {
    color: #ddd;
}
.xhl-pre {
    background-color: #111;
    padding: 10px;
    color: `).concat(ot,`;
    font-size: 14px;
    margin: 0;
    overflow-x: auto;
    font-family: Menlo, Monaco, "Courier New", monospace;
    line-height: 18px;
}
.xhl-container {
    overflow: auto;
}
.xhl-container .xhl-pre{
    background-color: transparent;
    padding: 0;
    font-family: inherit;
    line-height: inherit;
    font-size: inherit;
    color: inherit;
    overflow: unset;
    color: `).concat(ot,`;
}
.xhl-pre::-webkit-scrollbar,
.xhl-container::-webkit-scrollbar {
    width: 5px;
    cursor: pointer;
    height: 5px;
}
.xhl-pre::-webkit-scrollbar-button, .xhl-container::-webkit-scrollbar-button {
    display: none;
}
.xhl-pre::-webkit-scrollbar-track,
.xhl-container::-webkit-scrollbar-track {
    background-color: transparent;
}
.xhl-pre::-webkit-scrollbar-thumb,
.xhl-container::-webkit-scrollbar-thumb {
    background-color: #666;
    cursor: pointer;
    background-clip: initial;
}
.xhl-pre::-webkit-scrollbar-thumb:hover,
.xhl-container::-webkit-scrollbar-thumb:hover {
    background-color: #888;
    cursor: pointer;
}
`)),document.head);function Ue(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n=n.replace(/\&lt;/g,"__LT__").replace(/\&gt;/g,"__GT__");var e=Ge(n.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return t?"<pre class='xhl-pre'>".concat(e,"</pre>"):e}var Dt=["var","new","const","let","typeof","in","function","this","true","false","null","undefined","async","delete","class","extends"],Mt=["return","for","while","else if","if","else","switch","case","default","break","continue","await","yield","try","catch","finally","throw","export","import","from"],Wt=["console","window","document","Date","Array","Object","Boolean","Number","String","alert","RegExp","Function","JSON","Date"],H=["\\/","\\","\\(","\\)","\\[","\\]","\\{","\\}","\\+","\\-","\\*","\\=",",","\\.",":","%","_","\\$","@","#","\\^","\\|","!","~"],zt=["\\(","\\)","\\[","\\]","\\{","\\}"],U="(^|(&lt;)|(&lt;)|[\\n\\t;<> "+H.join("")+"])",ht="(["+H.join("")+"\\n;<> ]|(&lt;)|(&lt;)|$)";function O(n,t){return'<span class="xhl-'+t+'">'+n+"</span>"}function Ft(n,t,e,r){return n.replace(t,function(i){return typeof r=="string"?i.replace(r,O(r,e)):lt(r)==="object"?i.replace(r,function(o){return O(o,e)}):O(typeof r=="function"?r.apply(void 0,arguments):i,e)})}function qe(n,t,e,r){if(n.indexOf("</span>")!==-1){var i=typeof t=="string"?Ze(t):t[0];n=n.replace(i,function(a){var d=typeof t=="string"?new RegExp(t,"g"):t[1];return Ft(a,d,e,r)})}else{var o=typeof t=="string"?new RegExp(t,"g"):t[1];n=Ft(n,o,e,r)}return n}function Ze(n){return new RegExp(n+"(?![^<]*>|[^<>]*</)","g")}function Ge(n){return n=Je(n,[["\\$\\{(.*)\\}","tmp",function(t,e){return t.replace(e,O(e,"def"))}],[[/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)(?![^<]*>|[^<>]*<\/)/g,/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)/g],"str"],[`(//.*(
|$))|(\\/\\*(.|
)*?\\*\\/)`,"cm"],["\\/[a-zA-Z0-9"+H.slice(1).join("")+" ]+\\/[gi]?","reg"],M(Dt,"k1"),M(Dt,"k1"),M(Mt,"k2"),M(Mt,"k2"),M(Wt,"k3"),M(Wt,"k3"),[U+"[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]* ?\\(","f",new RegExp("[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]*","g")],[U+"[0-9]+(\\.?[0-9]+)?"+ht,"num",/[0-9]+(.?[0-9]+)?/g],[U+"[0-9]+(\\.?[0-9]+)?"+ht,"num",/[0-9]+(.?[0-9]+)?/g],[`&lt;\\/?[a-zA-Z\\-]*(\\/| |
|&gt;)`,"jsx"],["["+zt.join("")+"]","bkt",new RegExp("["+zt.join("")+"]","g")],["["+H.join("")+"]","punc",new RegExp("["+H.join("")+"]","g")],["["+H.join("")+"]","punc",new RegExp("["+H.join("")+"]","g")]]),n=n.replace(/\&lt;/g,O("<","punc")).replace(/\&gt;/g,O(">","punc")).replace(/;/g,O(";","punc")).replace(/&/g,O("&","punc")),n=n.replace(/__LT__/g,"&amp;lt;").replace(/__GT__/g,"&amp;gt;"),n}function M(n,t){return[U+"(("+n.join(")|(")+"))"+ht,t,new RegExp("(("+n.join(")|(")+"))","g")]}function Je(n,t){for(var e=0;e<t.length;e++)t[e].unshift(n),n=qe.apply(null,t[e]);return n}function Xe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{code:""},t=n.code,e=t===void 0?"":t,r=n.borderRight,i=r===void 0?!1:r,o=n.startIndex,a=o===void 0?1:o,d=n.highlights,l=d===void 0?[]:d,h=n.style,c=h===void 0?{}:h,s=n.codeStyle,u=s===void 0?{}:s,f=n.lineHeight,p=f===void 0?S.LineHeight:f,v=n.lineCount,m={backgroundColor:"#111",color:"#fff",fontFamily:S.FontFamily,margin:"0",fontSize:"".concat(S.FontSize,"px"),paddingTop:"".concat(S.CodePadding,"px"),paddingBottom:"0",paddingLeft:"".concat(S.PLeft,"px"),lineHeight:"".concat(p,"px")},y=C({overflowX:"auto",borderRight:i?"1px solid #666":"none",flex:"1",position:"relative"},m),g=e.split(`
`),x=e;e.length<=1e4?x=Ue(x,!1):console.warn("当前代码过长，已关闭代码高亮");var b=C({display:"flex"},c);v&&(b.minHeight="".concat(v*p+S.CodePadding*2,"px"));var _=Re(e,l);return P.div.style(b).append(P.div.style(C(C({},m),{},{flexDirection:"column",display:"flex",borderRight:"1px solid #aaa",padding:"".concat(S.CodePadding,"px 0px"),color:"#ddd",textAlign:"right"})).append(g.map(function(k,w){var j=_.find(function(z){return z.index===w});return P.span.style({padding:"0px 5px",backgroundColor:j?te(j):"transparent"}).text(a+w)})),P.pre.class("xhl-container").style(C(C({},y),u)).mounted(function(k){setTimeout(function(){if(_.length){var w=_[0];if(k.el.scrollLeft=w.left-(k.el.offsetWidth-w.width)/2,ResizeObserver){var j=new ResizeObserver(function(z){var At=z[0].target;Ne(".highlight-bar").forEach(function(ye){return ye.style("maxWidth","".concat(At==null?void 0:At.scrollWidth,"px"))})});j.observe(k.el)}}},100)}).append(Ve(_),P.div.class("xhl-pre").style(C(C({},u),{},{position:"relative"})).html(x))).el}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={exports:{}};(function(n,t){(function(e,r){r(t)})(Ye,function(e){function r(l){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function i(l,h){for(var c=0;c<h.length;c++){var s=h[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,s.key,s)}}function o(l){return function(h){if(Array.isArray(h))return a(h)}(l)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(l)||function(h,c){if(h){if(typeof h=="string")return a(h,c);var s=Object.prototype.toString.call(h).slice(8,-1);return(s=s==="Object"&&h.constructor?h.constructor.name:s)==="Map"||s==="Set"?Array.from(h):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(h,c):void 0}}(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(l,h){(h==null||h>l.length)&&(h=l.length);for(var c=0,s=new Array(h);c<h;c++)s[c]=l[c];return s}var d=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.usePrevEmit=!0,this._map={},this._prevData={}}var h,c,s;return h=l,s=[{key:"_",get:function(){return this.__||(this.__=new l),this.__}},{key:"usePrevEmit",get:function(){return this._.usePrevEmit},set:function(u){this._.usePrevEmit=u}},{key:"emit",value:function(u){for(var f,p=arguments.length,v=new Array(1<p?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];(f=this._).emit.apply(f,[u].concat(v))}},{key:"off",value:function(u,f){this._.off(u,f)}},{key:"clear",value:function(u){this._.clear(u)}},{key:"on",value:function(u,f){this._.on(u,f)}},{key:"once",value:function(u,f){this._.once(u,f)}},{key:"onWait",value:function(u){this._.onWait(u)}},{key:"head",value:function(u,f){this._.head(u,f)}},{key:"headOnce",value:function(u,f){this._.headOnce(u,f)}}],(c=[{key:"hasEvent",value:function(u){return!!this._map[u]}},{key:"on",value:function(u,f){var p=this;if(r(u)==="object"){var v,m=[];for(v in u)m.push(this.on(v,u[v]));return function(){m.forEach(function(g){return g()})}}if(!f)throw new Error("fn is required");var y=this._formatTarget(f);return this._checkPrev(u,y)&&y.once?function(){}:(this._getList(u).push(y),function(){p.off(u,y)})}},{key:"_formatTarget",value:function(u,f){return typeof u=="function"?{listener:u,once:f!=null&&f,prev:this.usePrevEmit}:(typeof f=="boolean"&&(u.once=f),u)}},{key:"emit",value:function(u){for(var f=arguments.length,p=new Array(1<f?f-1:0),v=1;v<f;v++)p[v-1]=arguments[v];this._prevData[u]=p;var m=this._map[u];if(!m)return!1;for(var y=0;y<m.length;y++){var g=m[y];g.listener.apply(g,p),g.once&&(m.splice(y,1),y--)}return!0}},{key:"off",value:function(u,f){if(u=this._map[u],!u)return!1;var p=u.findIndex(function(v){return v===f||v.listener===f});return p!==-1&&(u.splice(p,1),!0)}},{key:"clear",value:function(u){return!!this._map[u]&&(delete this._map[u],delete this._prevData[u],!0)}},{key:"onWait",value:function(u,f){var p=this;return new Promise(function(v){var m=function(){for(var y=arguments.length,g=new Array(y),x=0;x<y;x++)g[x]=arguments[x];return v(g)};f&&(m=Object.assign({listener:m},f)),p.once(u,m)})}},{key:"destroy",value:function(){this._map={},this._prevData={}}},{key:"_checkPrev",value:function(u,f){return f.prev?(u=this._prevData[u],u!==void 0&&(f.listener.apply(f,o(u)),!0)):!1}},{key:"once",value:function(u,f){return this.on(u,this._formatTarget(f,!0))}},{key:"head",value:function(u,f){var p=this,v=this._formatTarget(f);return this._checkPrev(u,v)&&v.once?function(){}:(this._getList(u).unshift(v),function(){p.off(u,f)})}},{key:"headOnce",value:function(u,f){return this.head(u,this._formatTarget(f,!0))}},{key:"_getList",value:function(u){var f=this._map[u];return f||(this._map[u]=f=[]),f}}])&&i(h.prototype,c),s&&i(h,s),Object.defineProperty(h,"prototype",{writable:!1}),l}();d.version="0.0.3",e.Eveit=d,e.default=d,Object.defineProperty(e,"__esModule",{value:!0})})})(dt,dt.exports);var St=dt.exports;function vt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Qe(n){if(Array.isArray(n))return vt(n)}function tn(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,un(r.key),r)}}function en(n,t,e){return t&&Nt(n.prototype,t),e&&Nt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function nn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function rn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(n){return Qe(n)||nn(n)||an(n)||rn()}function on(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function un(n){var t=on(n,"string");return typeof t=="symbol"?t:t+""}function an(n,t){if(n){if(typeof n=="string")return vt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?vt(n,t):void 0}}var V=Symbol("E"),Et=function(n){return n[n.Fork=0]="Fork",n[n.Append=1]="Append",n}(Et||{}),ee=function(){function n(){var t=this,e,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.max,a=o===void 0?0:o,d=i.useStorage,l=d===void 0?!1:d,h=i.storageKey,c=h===void 0?"_def_history_stack":h,s=i.mode,u=s===void 0?0:s,f=i.storageProvider,p=i.onStepChange,v=i.onHistorySizeChange,m=i.onHistoryOut;if(tn(this,n),this.step=0,this.size=0,this.max=40,this.list=[],this.index=0,this.End=V,this.isActive=!1,this.max=a,this.mode=u,l!==!1&&(f||c)&&(l=!0),l&&(this.storageProvider=f||{read:function(){var g=localStorage.getItem(c);return g?JSON.parse(g):[]},write:function(g){localStorage.setItem(c,JSON.stringify(g))}}),p&&(this.osc=function(){return p(t.step)}),v&&(this.ohsc=function(){return v(t.size)}),this.oho=m,(e=this.osc)===null||e===void 0||e.call(this),(r=this.ohsc)===null||r===void 0||r.call(this),l){var y=this.storageProvider.read();y instanceof Promise?y.then(function(g){t.useCache(g)}):this.useCache(y)}}return en(n,[{key:"useCache",value:function(t){t.length!==0&&this.push.apply(this,Bt(t))}},{key:"setMax",value:function(t){this.max=t}},{key:"setStep",value:function(t){var e;this.step=t,(e=this.osc)===null||e===void 0||e.call(this)}},{key:"setHistoryIndex",value:function(t){var e;this.isActive||(this.isActive=!0),this.index=t,this.size=t,(e=this.ohsc)===null||e===void 0||e.call(this)}},{key:"back",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canBack(e))return e>1&&(this.setStep(this.step-this.index),this.setHistoryIndex(0)),this.End;this.setStep(this.step-e),this.setHistoryIndex(this.index-e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"canBack",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index-t>=0}},{key:"first",value:function(){return this.list.length===0?V:(this.setStep(this.step-this.index),this.setHistoryIndex(0),this.list[0])}},{key:"last",value:function(){return this.list.length===0?V:(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1),this.list[this.list.length-1])}},{key:"forward",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canForward(e))return e>1&&(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1)),this.End;this.setStep(this.step+e),this.setHistoryIndex(this.index+e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"isEnd",value:function(t){return t===V}},{key:"canForward",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index+t<this.list.length}},{key:"pop",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=this.list.length;if(e<=t){var r=Bt(this.list);return this.clear(),r}var i=e-t,o=this.list.splice(i),a=this.list.length;return a<this.index&&(this.setHistoryIndex(a),this.setStep(this.step-(this.index-a))),o}},{key:"push",value:function(){var t,e=this.list.length;this.index<e&&(this.step++,this.index++,this.mode===0&&this.list.splice(this.index));var r=arguments.length,i=0,o=r;this.max>0&&e+r>this.max&&(i=e+r-this.max,o=r-i),(t=this.list).push.apply(t,arguments),i&&this.list.splice(0,i),this._onListChange(),o&&(this.mode===1?this.setHistoryIndex(this.list.length):this.setHistoryIndex(this.index+o)),this.mode===1?this.setStep(this.list.length):this.setStep(this.step+o),this.isActive&&(this.isActive=!1)}},{key:"clear",value:function(){this.list=[],this._onListChange(),this.setHistoryIndex(0),this.setStep(0),this.isActive=!1}},{key:"replace",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.index;typeof this.list[e]>"u"||(this.list[e]=t,this._onListChange())}},{key:"isLatest",get:function(){return this.index===this.list.length-1}},{key:"_onListChange",value:function(){var t;(t=this.storageProvider)===null||t===void 0||t.write(this.list)}},{key:"current",value:function(){return this.list[this.index]}}])}();ee.Mode=Et;function pt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function sn(n){if(Array.isArray(n))return pt(n)}function tt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dn(r.key),r)}}function et(n,t,e){return t&&Rt(n.prototype,t),e&&Rt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ln(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(n){return sn(n)||ln(n)||vn(n)||cn()}function hn(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function dn(n){var t=hn(n,"string");return typeof t=="symbol"?t:t+""}function W(n){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(n)}function vn(n,t){if(n){if(typeof n=="string")return pt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?pt(n,t):void 0}}function nt(n){return!!(n!=null&&n.__isRef)}var yt=null;function pn(n){return yt=n,function(){yt=null}}function ne(){return yt}var yn=function(){function n(t,e){var r=this;tt(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=pn(function(o,a){var d=function(){if(r._dirty=!0,r._listeners.length>0){var h=r._value,c=r.value;r._listeners.forEach(function(s){s(c,h)})}},l=typeof a=="string"?o.$sub(a,d):o.sub(d);r._clearSub.push(l)});this._refreshValue(),i()}return et(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),ie(this),(t=ne())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function mn(n,t){return rt(n)?n:new yn(n,t)}function rt(n){return!!(n!=null&&n.__isComputed)}function $t(n){return typeof n=="function"||rt(n)}function re(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},r={},i={$sub:function(c,s){return e[c]||(e[c]=[]),e[c].push(s),function(){i.$unsub(c,s)}},$unsub:function(c,s){if(e[c]){if(typeof s>"u")return delete e[c],!0;var u=e[c].indexOf(s);return u===-1?!1:(e[c].splice(u,1),!0)}},$get:function(c){return r[c]}},o={},a=function(c){var s=n[c];r[c]=s,o[c]={get:function(){var u;ie(i,c),(u=ne())===null||u===void 0||u(i,c);var f=r[c];return f},set:function(u){var f,p=r[c];r[c]=u,(f=e[c])===null||f===void 0||f.forEach(function(v){v(u,p)})}},i[c]=s};for(var d in n)a(d);Object.defineProperties(i,o);var l=function(c){i[c]=function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return t[c].apply(i,u)}};for(var h in t)l(h);return i}var N={};function ie(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;rt(n)||nt(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(N,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function gn(n,t){if(!N)throw new Error("Bind 传入参数错误");(rt(t)||nt(t))&&(t=t.value);var e=N.get,r=N.set,i=N.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,a="string";if(o.tagName==="INPUT"){var d=n.attr("type");d==="number"||d==="range"?a="number":(d==="radio"||d==="checkbox")&&(a="boolean")}var l=function(){if(a==="boolean")return o.checked;var u=n.value();return a==="number"?parseFloat(u):u},h=function(u){if(a==="boolean"){o.checked=u;return}n.value(u)},c=!1,s=function(){c=!0,r(l()),c=!1};h(e()),n.on("input",function(){s()}),n.on("change",function(){s()}),i(function(u){c||h(u)})}function T(n,t){if(nt(n))n.sub(function(){t(n.value,!1)}),t(n.value,!0);else if($t(n)){var e=mn(n);e.sub(function(){t(e.value,!1)}),t(e.value,!0)}else return t(n,!0),!1;return!0}function oe(n){return nt(n)||$t(n)}var ue=function(){function n(t){tt(this,n),this.__ld_type=it.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return et(n,[{key:"text",value:function(t){var e=this;return T(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),bn=function(){function n(){tt(this,n),this.__ld_type=it.Frag,this.children=[],this.el=document.createDocumentFragment()}return et(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Ct(r,function(o,a){t.children.push(a),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),it=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(it||{});function Ct(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){Ct(e,t);return}var i=e;$t(i)?(i=new ue(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var xn=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,Kt=/!important$/,_n=/^[0-9]+$/;function ae(n,t){n=kn(n);var e="";return Kt.test(t)&&(e="important",t=t.replace(Kt,"")),_n.test(t)&&xn.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function kn(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var wn=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function se(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new D(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],a=0;a<i.length;a++)o.push(new D(i[a]));return o}var $=function(){var n=function(e){return new D(e)},t={frag:{get:function(){return new bn}},text:{get:function(){var e=function(r){return new ue(r)};return e.text=e,e}}};return wn.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function Sn(n){var t=oe(n),e=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=new D("style").text(o);return document.head.appendChild(a.el),a};if(t||typeof n=="string"){var r=e();T(n,function(o){r.text(o)})}else{var i;le({data:n,onStyle:function(o,a){o&&(i||(i=e()),i.text(o)),a&&e(a)}})}}function le(n){var t=n.data,e=n.reactiveValue,r=e===void 0?[]:e,i=n.staticValue,o=i===void 0?[]:i,a=n.prefix,d=a===void 0?"":a,l=n.index,h=l===void 0?0:l,c=n.onStyle,s=n.first,u=s===void 0?!0:s,f=[],p=function(b){f.push(b),h++};d&&p("".concat(d,"{"));var v=!1,m=[],y=function(b){var _=t[b],k=oe(_);if(k)v=!0,function(w){T(_,function(j,z){z?p(ut(b,j)):(console.log(j,w),r[w]=ut(b,j),c(r.join("").trim()))})}(h);else{if(W(_)==="object")return m.push({key:b,value:_}),1;p(ut(b,_))}};for(var g in t)y(g);if(d&&p("}"),f.length){var x;(x=v?r:o).push.apply(x,f)}m.forEach(function(b){var _=b.key,k=b.value,w="";_[0]==="&"?w=_.substring(1):_[0]===":"?w=_:w=" ".concat(_),le({data:k,prefix:"".concat(d).concat(w),index:h,reactiveValue:r,staticValue:o,onStyle:c,first:!1})}),u&&c(r.join("").trim(),o.join("").trim())}function ut(n,t){var e=ae(n,t),r=e.important,i=e.cssValue,o=e.cssKey;return"".concat(o,":").concat(i).concat(r?"!".concat(r):"",";")}function En(n,t){var e,r=t;typeof t=="string"?r=se(t,!0):t instanceof HTMLElement&&(r=new D(t)),Array.isArray(n)?(e=r).append.apply(e,fn(n)):r.append(n)}var D=function(){function n(t){tt(this,n),this.__ld_type=it.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return et(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(T(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(W(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(T(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(W(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),T(e,function(a){return r.el.__xr_data[t]=a}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return T(e,function(o){var a=ae(t,o),d=a.important,l=a.cssValue,h=a.cssKey;r.setProperty(h,l,d)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(T(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(W(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,a=function(d){var l;e.self&&d.target!==i||(e.stop&&d.stopPropagation(),e.prevent&&d.preventDefault(),e.once&&i.removeEventListener(t,a,e.capture),(l=e.listener)===null||l===void 0||l.call(e,d))};i.addEventListener(t,a,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Ct(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return T(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return se(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return gn(this,t),this}}])}();function Vt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Ut(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=$n(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,d=!1;return{s:function(){e=e.call(n)},n:function(){var l=e.next();return a=l.done,l},e:function(l){d=!0,o=l},f:function(){try{a||e.return==null||e.return()}finally{if(d)throw o}}}}function $n(n,t){if(n){if(typeof n=="string")return Vt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Vt(n,t):void 0}}var ce="  ";function Cn(n){ce=n}function Tn(n){jn(this,n,ce)}function jn(n,t,e){var r=e.length;if(t.code==="Tab"){t.preventDefault();var i=qt(n),o=i.startLineIndex,a=i.start,d=i.end,l=i.lineText.split(`
`);if(t.shiftKey){var h=!0,c=Ut(l),s;try{for(c.s();!(s=c.n()).done;){var u=s.value;u.startsWith(e)?(n.selectionStart=o,n.selectionEnd=o+r,document.execCommand("delete",!1),h&&u.startsWith(e+e)&&(a-=r),d-=r,o+=u.length-r+1):o+=u.length+1,h=!1}}catch(b){c.e(b)}finally{c.f()}console.log(a,d),n.selectionStart=a,n.selectionEnd=d;return}if(l.length===1){at(e);return}a+=r;var f=Ut(l),p;try{for(f.s();!(p=f.n()).done;){var v=p.value;n.selectionStart=n.selectionEnd=o,at(e),o+=r+v.length+1,d+=r}}catch(b){f.e(b)}finally{f.f()}n.selectionStart=a,n.selectionEnd=d}else if(t.code==="Enter"&&!t.ctrlKey){for(var m=qt(n),y=m.lineText.split(`
`)[0],g=`
`,x=0;y.substring(x,x+r)===e;)g+=e,x+=r;x>0&&(at(g),t.preventDefault())}}function at(n){n&&document.execCommand("insertText",!1,n)}function qt(n){var t=n.selectionStart,e=n.selectionEnd,r="",i=n.value;r=i.substring(t,e);var o=i.substring(0,t),a=o.lastIndexOf(`
`),d=a+1;return{start:t,end:e,text:r,lineText:i.substring(d,e),line:r.split(`
`).length,startLineIndex:d}}function mt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function An(n){if(Array.isArray(n))return mt(n)}function Pn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tt(n,t,e){return t=G(t),In(n,fe()?Reflect.construct(t,e||[],G(n).constructor):t.apply(n,e))}function R(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,he(r.key),r)}}function K(n,t,e){return t&&Zt(n.prototype,t),e&&Zt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function q(n,t,e){return(t=he(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function G(n){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(n)}function jt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&gt(n,t)}function fe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!n})()}function On(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function E(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Gt(Object(e),!0).forEach(function(r){q(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Gt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function In(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(n)}function gt(n,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},gt(n,t)}function Hn(n){return An(n)||On(n)||Mn(n)||Ln()}function Dn(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function he(n){var t=Dn(n,"string");return typeof t=="symbol"?t:t+""}function Mn(n,t){if(n){if(typeof n=="string")return mt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?mt(n,t):void 0}}var Wn=function(){function n(t,e){var r=this;R(this,n),this.pushedCurrent=!1,this.provider=e,this.history=new ee({max:t,mode:Et.Append});var i=e.read();i instanceof Promise?i.then(function(o){r._initHistory(o)}):this._initHistory(i)}return K(n,[{key:"_initHistory",value:function(t){var e,r=JSON.parse(t);(e=this.history).push.apply(e,Hn(r))}},{key:"up",value:function(t){if(this.history.isActive||(this.push(t),this.history.back(),this.pushedCurrent=!0),this.history.canBack()){var e=this.history.back();return console.log("history back",e),e}else return null}},{key:"down",value:function(){return this.history.canForward()?this.history.forward():null}},{key:"checkLatest",value:function(t){this.history.isLatest&&(this.history.replace(t),this.save())}},{key:"push",value:function(t){this.pushedCurrent&&(this.history.pop(),this.pushedCurrent=!1),this.history.push(t),this.save()}},{key:"save",value:function(){this.provider.write(JSON.stringify(this.history.list))}},{key:"clear",value:function(){this.pushedCurrent=!1,this.history.clear(),this.save()}}])}(),bt="web-term-container",A={FullParent:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},Text:{fontFamily:"courier-new, courier, monospace",fontSize:"15px",fontKerning:"none",whiteSpace:"pre",lineHeight:"17px",boxSizing:"border-box"},ScrollBar:{"&::-webkit-scrollbar":{width:"5px",cursor:"pointer",height:"5px"},"&::-webkit-scrollbar-button":{display:"none"},"&::-webkit-scrollbar-track":{display:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#555",cursor:"pointer"}}},de={};function ve(n){Object.assign(de,n)}function zn(){Sn(de)}ve(q(q(q({},".".concat(bt),E(E({position:"relative"},A.Text),{},{"*":E({},A.Text)},A.ScrollBar)),".editor-cursor",{position:"absolute",zIndex:"2",height:"16px",backgroundColor:"#000",color:"#fff","&.cursor-focus":{backgroundColor:"#fff",color:"#000"},".editor-cursor-border":E(E({},A.FullParent),{},{border:"1px solid #fff"}),".editor-cursor-text":E({},A.FullParent)}),".editor-textarea",E({},A.ScrollBar)));ve({".display-item":{padding:2}});var Fn=function(){function n(t,e){R(this,n),this.store=t,this.title=e,this.container=$.div.style({padding:"5px 3px 0 3px"}).on("click",function(r){r.stopPropagation()})}return K(n,[{key:"pushContent",value:function(t){var e="display-item";this.container.append(typeof t=="string"?$.div.class(e).text(t+`
`):t.addClass(e))}}])}();function Nn(n){return typeof n=="function"?n():n}function Jt(){var n=navigator.userAgent;return/macintosh|mac os x/i.test(n)}function xt(n){return Jt()&&n.metaKey||!Jt()&&n.ctrlKey}function Bn(n){var t=!1;return n.on("compositionstart",function(){t=!0}),n.on("compositionend",function(){t=!1}),function(){return t}}function Rn(n){if(!n)return!1;var t=n.charCodeAt(0);return t>=128}var Kn=9,Xt=15,st=17,pe=function(n){function t(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.header,o=i===void 0?"":i,a=r.padding,d=a===void 0?5:a,l=r.size,h=l===void 0?"full":l,c=r.mode,s=c===void 0?"inline":c,u=r.tab,f=u===void 0?"  ":u;R(this,t),e=Tt(this,t),e.wrapLine=!0,e.store=re({cx:0,cy:0}),e._prevHeader="",e._prevHeaderWidth=0,e._isShowCursor=!1,e.size=h,e.mode=s,Cn(f),e.padding=d;var p=$.canvas;return e.ctx=p.el.getContext("2d"),e.ctx.font="15px courier-new, courier, monospace",e.headerGetter=o,e.render(),e._monitorStart(),e}return jt(t,n),K(t,[{key:"value",get:function(){var e=this.textarea.value(),r=this.header.length;return r?e.substring(r):e}},{key:"header",get:function(){return Nn(this.headerGetter)}},{key:"headerWidth",get:function(){var e=this.header;return e!==this._prevHeader&&(this._prevHeaderWidth=this.measureTextWidth(e)),this._prevHeaderWidth}},{key:"_monitorStart",value:function(){var e=this;setTimeout(function(){e.textarea.el.clientWidth?e.relocateCursorPosition():e._monitorStart()},100)}},{key:"render",value:function(){this.container=$.div.style({position:"relative",height:this.size==="full"?"100%":"".concat(st+2*this.padding,"px")}).append(this.cursor=$.div.class("editor-cursor").append($.div.class("editor-cursor-border"),this.cursorText=$.div.class("editor-cursor-text")),this.textarea=$.textarea.class("editor-textarea").value(this.header).style(E(E({},A.FullParent),{},{padding:"".concat(this.padding,"px"),backgroundColor:"transparent",border:"none",color:"#fff",outline:"none",resize:"none",zIndex:"1",caretColor:"transparent"}))),this.wrapLine&&this.textarea.style({wordBreak:"break-all",whiteSpace:"pre-wrap"}),this.initEvents()}},{key:"initEvents",value:function(){var e=this,r=!1,i=this.textarea.el,o=1,a=function(s){return s.code==="Backspace"||s.code==="Enter"},d=Bn(this.textarea),l=null,h=this.compatSelChange();this.textarea.on("keydown",function(s){if(!d()){if(e.mode==="inline"){if(s.code==="Enter")if(xt(s))e.pushText(`
`);else{s.preventDefault(),e.emit("key","Enter");return}else if(s.code==="ArrowUp"||s.code==="ArrowDown"||s.code==="Tab"){s.preventDefault(),e.emit("key",s.code);return}}if(s.code==="Tab"&&i.selectionStart!==i.selectionEnd&&e.showCursor(!1),Tn.call(i,s),a(s)&&(r=!0),s.code==="Backspace"){var u=e.getCursorPosition(),f=u.x,p=u.y;p===0&&f===e.headerWidth&&s.preventDefault()}console.log(s.code),xt(s)&&s.code==="KeyZ"&&(clearTimeout(l),l=setTimeout(function(){e.relocateCursorPosition()},50))}}).on("keyup",function(s){d()||a(s)&&(r=!1)}).on("input",function(s){if(s.preventDefault(),r&&e.relocateCursorPosition(),e.size==="auto"){var u=i.value,f=u.split(`
`).length;o!==f&&(o=f,e.textarea.style("height","".concat(f*st+2*e.padding,"px")))}e.emit("input")}).on("selectionchange",function(){console.log("selectionchange"),h&&(h(),h=null),e._onSelectionChange()}).on("scroll",function(){e.relocateCursorPosition()}).on("focus",function(){e.cursor.addClass("cursor-focus")}).on("blur",function(){e.cursor.removeClass("cursor-focus")});var c=i.clientWidth;globalThis.addEventListener("resize",function(){i.clientWidth!==c&&(c=i.clientWidth,e.relocateCursorPosition())})}},{key:"_onSelectionChange",value:function(){var e=this.textarea.el;if(e.selectionStart===e.selectionEnd)this.relocateCursorPosition();else{if(e.clientWidth===0)return;var r=this.header.length;e.selectionStart<r&&(e.selectionStart=r);var i=e.value.length;e.selectionEnd>i&&(e.selectionEnd=i)}}},{key:"compatSelChange",value:function(){var e=this,r=function(){var i=e.textarea.el;document.activeElement===i&&e._onSelectionChange()};return document.addEventListener("selectionchange",r),function(){return document.removeEventListener("selectionchange",r)}}},{key:"measureTextWidth",value:function(e){return e?this.ctx.measureText(e).width:0}},{key:"getCursorPosition",value:function(){var e=this.textarea.el,r=e.selectionStart,i=e.value.substring(0,r),o=i.split(`
`),a=o.pop(),d=o.length,l=e.value[r]||"",h=this.measureTextWidth(a),c=h,s=0,u=e.clientWidth-2*this.padding;if(this.wrapLine&&(s=Math.floor(h/u),c=h%u,s>0)){for(var f=0,p=s,v=0,m=a.length;p>0;){var y=Math.floor(u/Xt),g=a.substring(v,v+y);v+=y;for(var x=this.measureTextWidth(g),b=v;b<m;b++){g+=a[b];var _=this.measureTextWidth(g);if(_>u){v=b,f+=u-x;break}x=_}p--}c+=f}var k=Rn(l)?Xt:Kn;return c+k>u&&(c=0,s+=1),{x:c,y:st*(d+s),word:l,wordWidth:k}}},{key:"showCursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._isShowCursor!==e&&(this.cursor.style("visibility",e?"visible":"hidden"),this._isShowCursor=e)}},{key:"relocateCursorPosition",value:function(){var e=this.textarea.el;this.showCursor();var r=this.getCursorPosition(),i=r.x,o=r.y,a=r.word,d=r.wordWidth,l=i;if(o===0&&i<this.headerWidth){var h=this.header.length;e.setSelectionRange(h,h),l=this.headerWidth}this.cursor.style({left:"".concat(l+this.padding,"px"),top:"".concat(o+this.padding-e.scrollTop,"px"),width:"".concat(d,"px")}),this.cursorText.text(a)}},{key:"focus",value:function(){this.textarea.el.focus()}},{key:"pushText",value:function(e){console.log('pushText "'.concat(e,'"'));var r=this.textarea.el;r.selectionStart=r.selectionEnd=r.value.length,this.insertText(e)}},{key:"insertText",value:function(e){console.log('insertText "'.concat(e,'"')),e&&document.execCommand("insertText",!1,e)}},{key:"replaceText",value:function(e){console.log('replaceText "'.concat(e,'"')),this.clearContent(!1),this.pushText(e),this.relocateCursorPosition()}},{key:"clearContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.textarea.el,i=this.header.length;r.selectionStart=i,r.selectionEnd=r.value.length+1,i!==r.value.length&&(console.log('clearContent "'.concat(r.value,'" start=').concat(i," end=").concat(r.value.length," ").concat(r.selectionStart," ").concat(r.selectionEnd)),document.execCommand("delete",!1),e&&this.relocateCursorPosition())}},{key:"setCursorToHead",value:function(){var e=this.textarea.el;e.selectionStart=e.selectionEnd=this.header.length}}])}(St.Eveit),Vn=function(n){function t(e,r){var i;return R(this,t),i=Tt(this,t),i.editor=new pe(r),i.container=$.div.style(E(E({},A.FullParent),{},{zIndex:100,backgroundColor:"#000"})).append(i.editor.container).show(function(){return e.showEditor}),i.container.on("click",function(o){o.stopPropagation()}),i.container.on("keydown",function(o){if(o.code==="KeyS"&&xt(o)){var a=i.editor.value;i.editor.clearContent(),i.emit("edit-done",a),o.preventDefault()}o.code==="Escape"&&(console.log("Esc press"),i.editor.clearContent(),i.emit("edit-cancel"))}),i}return jt(t,n),K(t,[{key:"vi",value:function(e){this.editor.replaceText(e),this.editor.textarea.el.focus()}}])}(St.Eveit);function Un(){var n="_web_term_ui_history;";return{read:function(){return localStorage.getItem(n)||"[]"},write:function(t){return localStorage.setItem(n,t),!0}}}var qn=function(n){function t(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.title,o=i===void 0?"":i,a=r.historyMax,d=a===void 0?100:a,l=r.storageProvider,h=l===void 0?Un():l,c=r.container,s=r.getHeader;if(R(this,t),e=Tt(this,t),e.store=re({showEditor:!1}),zn(),e.title=o,e.history=new Wn(d,h),e.editor=new Vn(e.store,{mode:"full"}),e.input=new pe({header:s,size:"auto",mode:"inline"}),e.display=new Fn(e.store,o),o&&e.display.pushContent(o),!c)e.container=$.div.class(bt).style({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),En(e.container,"body");else{if(typeof c=="string"){var u=document.querySelector(c);if(!u)throw new Error("Container not exists");e.container=new D(u)}else e.container=new D(c);e.container.addClass(bt)}return e.initEvents(),e.render(),e}return jt(t,n),K(t,[{key:"initEvents",value:function(){var e=this;this.input.on("key",function(i){switch(console.log("input onkey",i),i){case"Enter":{var o=e.input.value;o&&e.history.push(o),e.emit("enter",o)}break;case"ArrowDown":{var a=e.history.down();typeof a=="string"&&e.input.replaceText(a)}break;case"ArrowUp":{var d=e.history.up(e.input.value);typeof d=="string"?e.input.replaceText(d):e.input.setCursorToHead()}break;case"Tab":e.emit("tab");break}}),this.input.on("input",function(){e.history.checkLatest(e.input.value)}),this.container.on("click",function(){e.input.focus()});var r=function(){e.store.showEditor=!1,e.input.focus()};this.editor.on("edit-done",function(i){r(),e.emit("edit-done",i)}),this.editor.on("edit-cancel",function(){r(),e.emit("edit-cancel")})}},{key:"render",value:function(){var e=this;this.container.style({cursor:"text",backgroundColor:"#000",color:"#fff",fontSize:"16px",lineHeight:"20px",fontFamily:'Menlo, Monaco, "Courier New", monospace',overflow:function(){return e.store.showEditor?"hidden":"auto"}}).append(this.mainContainer=$.div.append(this.display.container,this.input.container),this.editor.container)}},{key:"clearHistory",value:function(){this.history.clear()}},{key:"write",value:function(e){this.display.pushContent(e),this.input.clearContent(),this.container.el.scrollTop=this.container.el.scrollHeight}},{key:"insertEdit",value:function(e){this.editor.editor.insertText(e)}},{key:"replaceEdit",value:function(e){this.editor.editor.replaceText(e)}},{key:"pushEdit",value:function(e){this.editor.editor.pushText(e)}},{key:"vi",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.store.showEditor=!0,this.editor.vi(e)}}])}(St.Eveit);const L=new qn({title:['This is a Demo. Type "vi" to use vi editor',`And "ctrl/cmd + s" to Save, "esc" to cancel.
`].join(`
`),container:"#container",getHeader:()=>"/ admin$ "});L.on("enter",n=>{n==="vi"?L.vi():L.write(`Exec "${n}"`)});L.on("edit-done",n=>{L.write(`Edit Save: ${n}`)});L.on("tab",()=>{L.insertEdit("[test]")});document.getElementById("code").appendChild(Xe({code:`import {WebTerm} from 'web-term-ui';
const term = new WebTerm({
    title: [
        'This is a Demo. Type "vi" to use vi editor',
        'And "ctrl/cmd + s" to Save, "esc" to cancel.\\n'
    ].join('\\n'),
    container: '#container',
    getHeader: () => '/ admin$ '
});
term.on('enter', v => {
    if (v === 'vi') term.vi();
    else term.write(\`Exec "\${v}"\`);
});
term.on('edit-done', v => {
    term.write(\`Edit Save: \${v}\`);
});
term.on('tab', () => {
    term.insertEdit('[test]');
});`}));window.term=L;
