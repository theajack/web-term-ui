(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function wt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function kt(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=ae(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return s=u.done,u},e:function(u){l=!0,o=u},f:function(){try{s||e.return==null||e.return()}finally{if(l)throw o}}}}function ie(n,t,e){return(t=se(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function St(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function E(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?St(Object(e),!0).forEach(function(r){ie(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):St(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function oe(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function se(n){var t=oe(n,"string");return typeof t=="symbol"?t:t+""}function it(n){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(n)}function ae(n,t){if(n){if(typeof n=="string")return wt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?wt(n,t):void 0}}var k={FontFamily:'Menlo, Monaco, "Courier New", monospace',FontSize:14,LineHeight:18,CodePadding:10,PLeft:8};function ue(n){var t=document.createElement("canvas"),e=t.getContext("2d");return e.font=n,function(r){return r?e.measureText(r).width:0}}function ot(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function le(n){if(Array.isArray(n))return ot(n)}function q(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pe(r.key),r)}}function U(n,t,e){return t&&Ct(n.prototype,t),e&&Ct(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(n){return le(n)||ce(n)||ve(n)||he()}function de(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function pe(n){var t=de(n,"string");return typeof t=="symbol"?t:t+""}function V(n){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(n)}function ve(n,t){if(n){if(typeof n=="string")return ot(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ot(n,t):void 0}}function pt(n){return!!(n!=null&&n.__isRef)}var st=null;function ye(n){return st=n,function(){st=null}}function me(){return st}var ge=function(){function n(t,e){var r=this;q(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=ye(function(o,s){var l=function(){if(r._dirty=!0,r._listeners.length>0){var c=r._value,h=r.value;r._listeners.forEach(function(d){d(h,c)})}},u=typeof s=="string"?o.$sub(s,l):o.sub(l);r._clearSub.push(u)});this._refreshValue(),i()}return U(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),xe(this),(t=me())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function be(n,t){return Z(n)?n:new ge(n,t)}function Z(n){return!!(n!=null&&n.__isComputed)}function Ft(n){return typeof n=="function"||Z(n)}var F={};function xe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;Z(n)||pt(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(F,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function _e(n,t){if(!F)throw new Error("Bind 传入参数错误");(Z(t)||pt(t))&&(t=t.value);var e=F.get,r=F.set,i=F.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,s="string";if(o.tagName==="INPUT"){var l=n.attr("type");l==="number"||l==="range"?s="number":(l==="radio"||l==="checkbox")&&(s="boolean")}var u=function(){if(s==="boolean")return o.checked;var a=n.value();return s==="number"?parseFloat(a):a},c=function(a){if(s==="boolean"){o.checked=a;return}n.value(a)},h=!1,d=function(){h=!0,r(u()),h=!1};c(e()),n.on("input",function(){d()}),n.on("change",function(){d()}),i(function(a){h||c(a)})}function O(n,t){if(pt(n))n.sub(function(){t(n.value)}),t(n.value);else if(Ft(n)){var e=be(n);e.sub(function(){t(e.value)}),t(e.value)}else t(n)}var Nt=function(){function n(t){q(this,n),this.__ld_type=G.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return U(n,[{key:"text",value:function(t){var e=this;return O(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),we=function(){function n(){q(this,n),this.__ld_type=G.Frag,this.children=[],this.el=document.createDocumentFragment()}return U(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return vt(r,function(o,s){t.children.push(s),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),G=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(G||{});function vt(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){vt(e,t);return}var i=e;Ft(i)?(i=new Nt(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var ke=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,Et=/!important$/,Se=/^[0-9]+$/;function Ce(n,t){n=Ee(n);var e="";return Et.test(t)&&(e="important",t=t.replace(Et,"")),Se.test(t)&&ke.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function Ee(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var Te=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function Ae(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return yt(n,t,document)}function yt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new R(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],s=0;s<i.length;s++)o.push(new R(i[s]));return o}var j=function(){var n=function(e){return new R(e)},t={frag:{get:function(){return new we}},text:{get:function(){var e=function(r){return new Nt(r)};return e.text=e,e}}};return Te.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function $e(n,t){var e,r=t;typeof t=="string"?r=yt(t,!0):t instanceof HTMLElement&&(r=new R(t)),Array.isArray(n)?(e=r).append.apply(e,fe(n)):r.append(n)}var R=function(){function n(t){q(this,n),this.__ld_type=G.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return U(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(O(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(V(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(O(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(V(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),O(e,function(s){return r.el.__xr_data[t]=s}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return O(e,function(o){var s=Ce(t,o),l=s.important,u=s.cssValue,c=s.cssKey;r.setProperty(c,u,l)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(O(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(V(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,s=function(l){var u;e.self&&l.target!==i||(e.stop&&l.stopPropagation(),e.prevent&&l.preventDefault(),e.once&&i.removeEventListener(t,s,e.capture),(u=e.listener)===null||u===void 0||u.call(e,l))};i.addEventListener(t,s,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return vt(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return O(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return yt(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return _e(this,t),this}}])}();function Pe(n,t){var e=[],r="#0b8c0b",i=.4,o=ue("14px Menlo, Monaco, Courier New, monospace"),s=kt(t),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c={color:u.color||r,opacity:u.opacity||i};if(je(u)){var h=n.matchAll(u.match),d=kt(h),a;try{for(d.s();!(a=d.n()).done;){var f=a.value,v=n.substring(0,f.index),p=v.split(`
`),y=p.pop();e.push(E({left:o(y)+k.PLeft,top:p.length*k.LineHeight,width:o(f[0]),index:p.length},c))}}catch(S){d.e(S)}finally{d.f()}}else{var m=u.row,g=u.column,b=u.range,x=b===void 0?1:b,_=n.split(`
`);debugger;e.push(E({left:o(_[m].substring(0,g))+k.PLeft,top:m*k.LineHeight,index:m,width:o(_[m].substring(g,g+x))},c))}}}catch(S){s.e(S)}finally{s.f()}return e}function je(n){return typeof n.match<"u"}function Le(n){return n.map(function(t){return j.div.class("highlight-bar").style({position:"absolute",backgroundColor:Vt(t),left:"0",top:"".concat(k.CodePadding+t.top,"px"),height:"".concat(k.LineHeight,"px"),width:"100%"}).append(j.span.style({position:"absolute",backgroundColor:t.color,left:"".concat(t.left,"px"),width:"".concat(t.width,"px"),height:"100%"}))})}function Vt(n){var t=n.color,e=n.opacity;if(t[0]==="#"){var r=function(o){var s=Math.round(o*1.6*10).toString(16);return s.length===2?"F":s},i=r(e);return t.length===4?"".concat(t).concat(i):"".concat(t).concat(i).concat(i)}else if(t.startsWith("rgba"))return t.replace(/,([0-9]*)\)/,",".concat(e,")"));return t.replace(/,([0-9]*)\)/,function(o,s){return",".concat(s,",").concat(e,")")})}var et="#9cdcfe";$e(j.style.text(`
.xhl-punc {
    color: #ddd;
}
.xhl-bkt {
    color: #ffe11c;
}
.xhl-k1 {
    color: #569cd6;
}
.xhl-k2 {
    color: #c586c0;
}
.xhl-k3 {
    color: #3ac9b0;
}
.xhl-num {
    color: #b5cea8;
}
.xhl-f {
    color: #dcdcaa;
}
.xhl-reg,
.xhl-reg * {
    color: #d16969;
}
.xhl-str,
.xhl-str *,
.xhl-str .xhl-cm {
    color: #ce9178;
}
.xhl-cm,
.xhl-cm * {
    color: #6a8a35;
}
.xhl-jsx {
    color: #569cd6;
}
.xhl-tmp,.xhl-tmp .xhl-punc,.xhl-tmp .xhl-bkt{
    color: rgb(86,156,214);
}
.xhl-def{color: `.concat(et,`;}
.xhl-def .xhl-punc {
    color: #ddd;
}
.xhl-pre {
    background-color: #111;
    padding: 10px;
    color: `).concat(et,`;
    font-size: 14px;
    margin: 0;
    overflow-x: auto;
    font-family: Menlo, Monaco, "Courier New", monospace;
    line-height: 18px;
}
.xhl-container {
    overflow: auto;
}
.xhl-container .xhl-pre{
    background-color: transparent;
    padding: 0;
    font-family: inherit;
    line-height: inherit;
    font-size: inherit;
    color: inherit;
    overflow: unset;
    color: `).concat(et,`;
}
.xhl-pre::-webkit-scrollbar,
.xhl-container::-webkit-scrollbar {
    width: 5px;
    cursor: pointer;
    height: 5px;
}
.xhl-pre::-webkit-scrollbar-button, .xhl-container::-webkit-scrollbar-button {
    display: none;
}
.xhl-pre::-webkit-scrollbar-track,
.xhl-container::-webkit-scrollbar-track {
    background-color: transparent;
}
.xhl-pre::-webkit-scrollbar-thumb,
.xhl-container::-webkit-scrollbar-thumb {
    background-color: #666;
    cursor: pointer;
    background-clip: initial;
}
.xhl-pre::-webkit-scrollbar-thumb:hover,
.xhl-container::-webkit-scrollbar-thumb:hover {
    background-color: #888;
    cursor: pointer;
}
`)),document.head);function Oe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n=n.replace(/\&lt;/g,"__LT__").replace(/\&gt;/g,"__GT__");var e=Ie(n.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return t?"<pre class='xhl-pre'>".concat(e,"</pre>"):e}var Tt=["var","new","const","let","typeof","in","function","this","true","false","null","undefined","async","delete","class","extends"],At=["return","for","while","else if","if","else","switch","case","default","break","continue","await","yield","try","catch","finally","throw","export","import","from"],$t=["console","window","document","Date","Array","Object","Boolean","Number","String","alert","RegExp","Function","JSON","Date"],H=["\\/","\\","\\(","\\)","\\[","\\]","\\{","\\}","\\+","\\-","\\*","\\=",",","\\.",":","%","_","\\$","@","#","\\^","\\|","!","~"],Pt=["\\(","\\)","\\[","\\]","\\{","\\}"],K="(^|(&lt;)|(&lt;)|[\\n\\t;<> "+H.join("")+"])",at="(["+H.join("")+"\\n;<> ]|(&lt;)|(&lt;)|$)";function L(n,t){return'<span class="xhl-'+t+'">'+n+"</span>"}function jt(n,t,e,r){return n.replace(t,function(i){return typeof r=="string"?i.replace(r,L(r,e)):it(r)==="object"?i.replace(r,function(o){return L(o,e)}):L(typeof r=="function"?r.apply(void 0,arguments):i,e)})}function He(n,t,e,r){if(n.indexOf("</span>")!==-1){var i=typeof t=="string"?We(t):t[0];n=n.replace(i,function(s){var l=typeof t=="string"?new RegExp(t,"g"):t[1];return jt(s,l,e,r)})}else{var o=typeof t=="string"?new RegExp(t,"g"):t[1];n=jt(n,o,e,r)}return n}function We(n){return new RegExp(n+"(?![^<]*>|[^<>]*</)","g")}function Ie(n){return n=De(n,[["\\$\\{(.*)\\}","tmp",function(t,e){return t.replace(e,L(e,"def"))}],[[/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)(?![^<]*>|[^<>]*<\/)/g,/("(?:[^"\\]|\\.)*")|(\'(?:[^\'\\]|\\.)*\')|(`((?:[^`\\]|\\.)|\n)*`)/g],"str"],[`(//.*(
|$))|(\\/\\*(.|
)*?\\*\\/)`,"cm"],["\\/[a-zA-Z0-9"+H.slice(1).join("")+" ]+\\/[gi]?","reg"],I(Tt,"k1"),I(Tt,"k1"),I(At,"k2"),I(At,"k2"),I($t,"k3"),I($t,"k3"),[K+"[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]* ?\\(","f",new RegExp("[a-zA-Z_\\$]+[a-zA-Z_\\$0-9]*","g")],[K+"[0-9]+(\\.?[0-9]+)?"+at,"num",/[0-9]+(.?[0-9]+)?/g],[K+"[0-9]+(\\.?[0-9]+)?"+at,"num",/[0-9]+(.?[0-9]+)?/g],[`&lt;\\/?[a-zA-Z\\-]*(\\/| |
|&gt;)`,"jsx"],["["+Pt.join("")+"]","bkt",new RegExp("["+Pt.join("")+"]","g")],["["+H.join("")+"]","punc",new RegExp("["+H.join("")+"]","g")],["["+H.join("")+"]","punc",new RegExp("["+H.join("")+"]","g")]]),n=n.replace(/\&lt;/g,L("<","punc")).replace(/\&gt;/g,L(">","punc")).replace(/;/g,L(";","punc")).replace(/&/g,L("&","punc")),n=n.replace(/__LT__/g,"&amp;lt;").replace(/__GT__/g,"&amp;gt;"),n}function I(n,t){return[K+"(("+n.join(")|(")+"))"+at,t,new RegExp("(("+n.join(")|(")+"))","g")]}function De(n,t){for(var e=0;e<t.length;e++)t[e].unshift(n),n=He.apply(null,t[e]);return n}function Me(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{code:""},t=n.code,e=t===void 0?"":t,r=n.borderRight,i=r===void 0?!1:r,o=n.startIndex,s=o===void 0?1:o,l=n.highlights,u=l===void 0?[]:l,c=n.style,h=c===void 0?{}:c,d=n.codeStyle,a=d===void 0?{}:d,f=n.lineHeight,v=f===void 0?k.LineHeight:f,p=n.lineCount,y={backgroundColor:"#111",color:"#fff",fontFamily:k.FontFamily,margin:"0",fontSize:"".concat(k.FontSize,"px"),paddingTop:"".concat(k.CodePadding,"px"),paddingBottom:"0",paddingLeft:"".concat(k.PLeft,"px"),lineHeight:"".concat(v,"px")},m=E({overflowX:"auto",borderRight:i?"1px solid #666":"none",flex:"1",position:"relative"},y),g=e.split(`
`),b=e;e.length<=1e4?b=Oe(b,!1):console.warn("当前代码过长，已关闭代码高亮");var x=E({display:"flex"},h);p&&(x.minHeight="".concat(p*v+k.CodePadding*2,"px"));var _=Pe(e,u);return j.div.style(x).append(j.div.style(E(E({},y),{},{flexDirection:"column",display:"flex",borderRight:"1px solid #aaa",padding:"".concat(k.CodePadding,"px 0px"),color:"#ddd",textAlign:"right"})).append(g.map(function(S,w){var $=_.find(function(M){return M.index===w});return j.span.style({padding:"0px 5px",backgroundColor:$?Vt($):"transparent"}).text(s+w)})),j.pre.class("xhl-container").style(E(E({},m),a)).mounted(function(S){setTimeout(function(){if(_.length){var w=_[0];if(S.el.scrollLeft=w.left-(S.el.offsetWidth-w.width)/2,ResizeObserver){var $=new ResizeObserver(function(M){var _t=M[0].target;Ae(".highlight-bar").forEach(function(re){return re.style("maxWidth","".concat(_t==null?void 0:_t.scrollWidth,"px"))})});$.observe(S.el)}}},100)}).append(Le(_),j.div.class("xhl-pre").style(E(E({},a),{},{position:"relative"})).html(b))).el}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ut={exports:{}};(function(n,t){(function(e,r){r(t)})(ze,function(e){function r(u){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function i(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function o(u){return function(c){if(Array.isArray(c))return s(c)}(u)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(u)||function(c,h){if(c){if(typeof c=="string")return s(c,h);var d=Object.prototype.toString.call(c).slice(8,-1);return(d=d==="Object"&&c.constructor?c.constructor.name:d)==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?s(c,h):void 0}}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(u,c){(c==null||c>u.length)&&(c=u.length);for(var h=0,d=new Array(c);h<c;h++)d[h]=u[h];return d}var l=function(){function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.usePrevEmit=!0,this._map={},this._prevData={}}var c,h,d;return c=u,d=[{key:"_",get:function(){return this.__||(this.__=new u),this.__}},{key:"usePrevEmit",get:function(){return this._.usePrevEmit},set:function(a){this._.usePrevEmit=a}},{key:"emit",value:function(a){for(var f,v=arguments.length,p=new Array(1<v?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];(f=this._).emit.apply(f,[a].concat(p))}},{key:"off",value:function(a,f){this._.off(a,f)}},{key:"clear",value:function(a){this._.clear(a)}},{key:"on",value:function(a,f){this._.on(a,f)}},{key:"once",value:function(a,f){this._.once(a,f)}},{key:"onWait",value:function(a){this._.onWait(a)}},{key:"head",value:function(a,f){this._.head(a,f)}},{key:"headOnce",value:function(a,f){this._.headOnce(a,f)}}],(h=[{key:"hasEvent",value:function(a){return!!this._map[a]}},{key:"on",value:function(a,f){var v=this;if(r(a)==="object"){var p,y=[];for(p in a)y.push(this.on(p,a[p]));return function(){y.forEach(function(g){return g()})}}if(!f)throw new Error("fn is required");var m=this._formatTarget(f);return this._checkPrev(a,m)&&m.once?function(){}:(this._getList(a).push(m),function(){v.off(a,m)})}},{key:"_formatTarget",value:function(a,f){return typeof a=="function"?{listener:a,once:f!=null&&f,prev:this.usePrevEmit}:(typeof f=="boolean"&&(a.once=f),a)}},{key:"emit",value:function(a){for(var f=arguments.length,v=new Array(1<f?f-1:0),p=1;p<f;p++)v[p-1]=arguments[p];this._prevData[a]=v;var y=this._map[a];if(!y)return!1;for(var m=0;m<y.length;m++){var g=y[m];g.listener.apply(g,v),g.once&&(y.splice(m,1),m--)}return!0}},{key:"off",value:function(a,f){if(a=this._map[a],!a)return!1;var v=a.findIndex(function(p){return p===f||p.listener===f});return v!==-1&&(a.splice(v,1),!0)}},{key:"clear",value:function(a){return!!this._map[a]&&(delete this._map[a],delete this._prevData[a],!0)}},{key:"onWait",value:function(a,f){var v=this;return new Promise(function(p){var y=function(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];return p(g)};f&&(y=Object.assign({listener:y},f)),v.once(a,y)})}},{key:"destroy",value:function(){this._map={},this._prevData={}}},{key:"_checkPrev",value:function(a,f){return f.prev?(a=this._prevData[a],a!==void 0&&(f.listener.apply(f,o(a)),!0)):!1}},{key:"once",value:function(a,f){return this.on(a,this._formatTarget(f,!0))}},{key:"head",value:function(a,f){var v=this,p=this._formatTarget(f);return this._checkPrev(a,p)&&p.once?function(){}:(this._getList(a).unshift(p),function(){v.off(a,f)})}},{key:"headOnce",value:function(a,f){return this.head(a,this._formatTarget(f,!0))}},{key:"_getList",value:function(a){var f=this._map[a];return f||(this._map[a]=f=[]),f}}])&&i(c.prototype,h),d&&i(c,d),Object.defineProperty(c,"prototype",{writable:!1}),u}();l.version="0.0.3",e.Eveit=l,e.default=l,Object.defineProperty(e,"__esModule",{value:!0})})})(ut,ut.exports);var mt=ut.exports;function lt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Fe(n){if(Array.isArray(n))return lt(n)}function Ne(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qe(r.key),r)}}function Ve(n,t,e){return t&&Lt(n.prototype,t),e&&Lt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Be(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(n){return Fe(n)||Be(n)||Ue(n)||Ke()}function Re(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function qe(n){var t=Re(n,"string");return typeof t=="symbol"?t:t+""}function Ue(n,t){if(n){if(typeof n=="string")return lt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?lt(n,t):void 0}}var B=Symbol("E"),gt=function(n){return n[n.Fork=0]="Fork",n[n.Append=1]="Append",n}(gt||{}),Bt=function(){function n(){var t=this,e,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.max,s=o===void 0?0:o,l=i.useStorage,u=l===void 0?!1:l,c=i.storageKey,h=c===void 0?"_def_history_stack":c,d=i.mode,a=d===void 0?0:d,f=i.storageProvider,v=i.onStepChange,p=i.onHistorySizeChange,y=i.onHistoryOut;if(Ne(this,n),this.step=0,this.size=0,this.max=40,this.list=[],this.index=0,this.End=B,this.isActive=!1,this.max=s,this.mode=a,u!==!1&&(f||h)&&(u=!0),u&&(this.storageProvider=f||{read:function(){var g=localStorage.getItem(h);return g?JSON.parse(g):[]},write:function(g){localStorage.setItem(h,JSON.stringify(g))}}),v&&(this.osc=function(){return v(t.step)}),p&&(this.ohsc=function(){return p(t.size)}),this.oho=y,(e=this.osc)===null||e===void 0||e.call(this),(r=this.ohsc)===null||r===void 0||r.call(this),u){var m=this.storageProvider.read();m instanceof Promise?m.then(function(g){t.useCache(g)}):this.useCache(m)}}return Ve(n,[{key:"useCache",value:function(t){t.length!==0&&this.push.apply(this,Ot(t))}},{key:"setMax",value:function(t){this.max=t}},{key:"setStep",value:function(t){var e;this.step=t,(e=this.osc)===null||e===void 0||e.call(this)}},{key:"setHistoryIndex",value:function(t){var e;this.isActive||(this.isActive=!0),this.index=t,this.size=t,(e=this.ohsc)===null||e===void 0||e.call(this)}},{key:"back",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canBack(e))return e>1&&(this.setStep(this.step-this.index),this.setHistoryIndex(0)),this.End;this.setStep(this.step-e),this.setHistoryIndex(this.index-e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"canBack",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index-t>=0}},{key:"first",value:function(){return this.list.length===0?B:(this.setStep(this.step-this.index),this.setHistoryIndex(0),this.list[0])}},{key:"last",value:function(){return this.list.length===0?B:(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1),this.list[this.list.length-1])}},{key:"forward",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canForward(e))return e>1&&(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1)),this.End;this.setStep(this.step+e),this.setHistoryIndex(this.index+e);var r=this.list[this.index];return(t=this.oho)===null||t===void 0||t.call(this,r),r}},{key:"isEnd",value:function(t){return t===B}},{key:"canForward",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index+t<this.list.length}},{key:"pop",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=this.list.length;if(e<=t){var r=Ot(this.list);return this.clear(),r}var i=e-t,o=this.list.splice(i),s=this.list.length;return s<this.index&&(this.setHistoryIndex(s),this.setStep(this.step-(this.index-s))),o}},{key:"push",value:function(){var t,e=this.list.length;this.index<e&&(this.step++,this.index++,this.mode===0&&this.list.splice(this.index));var r=arguments.length,i=0,o=r;this.max>0&&e+r>this.max&&(i=e+r-this.max,o=r-i),(t=this.list).push.apply(t,arguments),i&&this.list.splice(0,i),this._onListChange(),o&&(this.mode===1?this.setHistoryIndex(this.list.length):this.setHistoryIndex(this.index+o)),this.mode===1?this.setStep(this.list.length):this.setStep(this.step+o),this.isActive&&(this.isActive=!1)}},{key:"clear",value:function(){this.list=[],this._onListChange(),this.setHistoryIndex(0),this.setStep(0),this.isActive=!1}},{key:"replace",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.index;typeof this.list[e]>"u"||(this.list[e]=t,this._onListChange())}},{key:"isLatest",get:function(){return this.index===this.list.length-1}},{key:"_onListChange",value:function(){var t;(t=this.storageProvider)===null||t===void 0||t.write(this.list)}},{key:"current",value:function(){return this.list[this.index]}}])}();Bt.Mode=gt;class Ze{constructor(t,e){this.pushedCurrent=!1,this.provider=e,this.history=new Bt({max:t,mode:gt.Append});const r=e.read();r instanceof Promise?r.then(i=>{this._initHistory(i)}):this._initHistory(r)}_initHistory(t){const e=JSON.parse(t);this.history.push(...e)}up(t){return this.history.isActive||(this.push(t),this.history.back(),this.pushedCurrent=!0),this.history.canBack()?this.history.back():null}down(){return this.history.canForward()?this.history.forward():null}checkLatest(t){this.history.isLatest&&(this.history.replace(t),this.save())}push(t){this.pushedCurrent&&(this.history.pop(),this.pushedCurrent=!1),this.history.push(t),this.save()}save(){this.provider.write(JSON.stringify(this.history.list))}clear(){this.pushedCurrent=!1,this.history.clear(),this.save()}}function ct(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Ge(n){if(Array.isArray(n))return ct(n)}function J(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tn(r.key),r)}}function X(n,t,e){return t&&Ht(n.prototype,t),e&&Ht(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Je(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(n){return Ge(n)||Je(n)||en(n)||Xe()}function Qe(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function tn(n){var t=Qe(n,"string");return typeof t=="symbol"?t:t+""}function D(n){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(n)}function en(n,t){if(n){if(typeof n=="string")return ct(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ct(n,t):void 0}}function Y(n){return!!(n!=null&&n.__isRef)}var ht=null;function nn(n){return ht=n,function(){ht=null}}function Kt(){return ht}var rn=function(){function n(t,e){var r=this;J(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=t,this._set=e;var i=nn(function(o,s){var l=function(){if(r._dirty=!0,r._listeners.length>0){var c=r._value,h=r.value;r._listeners.forEach(function(d){d(h,c)})}},u=typeof s=="string"?o.$sub(s,l):o.sub(l);r._clearSub.push(u)});this._refreshValue(),i()}return X(n,[{key:"value",get:function(){var t;return this._dirty&&this._refreshValue(),qt(this),(t=Kt())===null||t===void 0||t(this),this._value},set:function(t){if(!this._set){console.warn("Computed not have set property");return}this._set(t)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsub(t)}}},{key:"unsub",value:function(t){var e=this._listeners.indexOf(t);return e!==-1?(this._listeners.splice(e,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(t){return t()}),this._clearSub=[]}}])}();function on(n,t){return Q(n)?n:new rn(n,t)}function Q(n){return!!(n!=null&&n.__isComputed)}function bt(n){return typeof n=="function"||Q(n)}function Rt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},r={},i={$sub:function(h,d){return e[h]||(e[h]=[]),e[h].push(d),function(){i.$unsub(h,d)}},$unsub:function(h,d){if(e[h]){if(typeof d>"u")return delete e[h],!0;var a=e[h].indexOf(d);return a===-1?!1:(e[h].splice(a,1),!0)}},$get:function(h){return r[h]}},o={},s=function(h){var d=n[h];r[h]=d,o[h]={get:function(){var a;qt(i,h),(a=Kt())===null||a===void 0||a(i,h);var f=r[h];return f},set:function(a){var f,v=r[h];r[h]=a,(f=e[h])===null||f===void 0||f.forEach(function(p){p(a,v)})}},i[h]=d};for(var l in n)s(l);Object.defineProperties(i,o);var u=function(h){i[h]=function(){for(var d=arguments.length,a=new Array(d),f=0;f<d;f++)a[f]=arguments[f];return t[h].apply(i,a)}};for(var c in t)u(c);return i}var N={};function qt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e;Q(n)||Y(n)?(t="value",e=function(r){return n.sub(r)}):e=function(r){return n.$sub(t,r)},Object.assign(N,{set:function(r){n[t]=r},get:function(){return n[t]},sub:e})}function sn(n,t){if(!N)throw new Error("Bind 传入参数错误");(Q(t)||Y(t))&&(t=t.value);var e=N.get,r=N.set,i=N.sub;if(e()!==t)throw new Error("Bind 传入参数错误");var o=n.el,s="string";if(o.tagName==="INPUT"){var l=n.attr("type");l==="number"||l==="range"?s="number":(l==="radio"||l==="checkbox")&&(s="boolean")}var u=function(){if(s==="boolean")return o.checked;var a=n.value();return s==="number"?parseFloat(a):a},c=function(a){if(s==="boolean"){o.checked=a;return}n.value(a)},h=!1,d=function(){h=!0,r(u()),h=!1};c(e()),n.on("input",function(){d()}),n.on("change",function(){d()}),i(function(a){h||c(a)})}function A(n,t){if(Y(n))n.sub(function(){t(n.value,!1)}),t(n.value,!0);else if(bt(n)){var e=on(n);e.sub(function(){t(e.value,!1)}),t(e.value,!0)}else return t(n,!0),!1;return!0}function Ut(n){return Y(n)||bt(n)}var Zt=function(){function n(t){J(this,n),this.__ld_type=tt.Text,this.el=document.createTextNode(""),typeof t<"u"&&this.text(t)}return X(n,[{key:"text",value:function(t){var e=this;return A(t,function(r){return e.el.textContent=r}),this}},{key:"mounted",value:function(t){return this.__mounted=t,this}}])}(),an=function(){function n(){J(this,n),this.__ld_type=tt.Frag,this.children=[],this.el=document.createDocumentFragment()}return X(n,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return xt(r,function(o,s){t.children.push(s),t.el.appendChild(o)}),this}},{key:"mounted",value:function(t){return this.__mounted=function(e){e.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),t(e)},this}}])}(),tt=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(tt||{});function xt(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){xt(e,t);return}var i=e;bt(i)?(i=new Zt(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:e instanceof HTMLElement||(i=document.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var un=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,Wt=/!important$/,ln=/^[0-9]+$/;function Gt(n,t){n=cn(n);var e="";return Wt.test(t)&&(e="important",t=t.replace(Wt,"")),ln.test(t)&&un.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function cn(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}var hn=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function Jt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(t){var r=e.querySelector(n);if(r)return new W(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),o=[],s=0;s<i.length;s++)o.push(new W(i[s]));return o}var C=function(){var n=function(e){return new W(e)},t={frag:{get:function(){return new an}},text:{get:function(){var e=function(r){return new Zt(r)};return e.text=e,e}}};return hn.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function fn(n){var t=Ut(n),e=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=new W("style").text(o);return document.head.appendChild(s.el),s};if(t||typeof n=="string"){var r=e();A(n,function(o){r.text(o)})}else{var i;Xt({data:n,onStyle:function(o,s){o&&(i||(i=e()),i.text(o)),s&&e(s)}})}}function Xt(n){var t=n.data,e=n.reactiveValue,r=e===void 0?[]:e,i=n.staticValue,o=i===void 0?[]:i,s=n.prefix,l=s===void 0?"":s,u=n.index,c=u===void 0?0:u,h=n.onStyle,d=n.first,a=d===void 0?!0:d,f=[],v=function(x){f.push(x),c++};l&&v("".concat(l,"{"));var p=!1,y=[],m=function(x){var _=t[x],S=Ut(_);if(S)p=!0,function(w){A(_,function($,M){M?v(nt(x,$)):(console.log($,w),r[w]=nt(x,$),h(r.join("").trim()))})}(c);else{if(D(_)==="object")return y.push({key:x,value:_}),1;v(nt(x,_))}};for(var g in t)m(g);if(l&&v("}"),f.length){var b;(b=p?r:o).push.apply(b,f)}y.forEach(function(x){var _=x.key,S=x.value,w="";_[0]==="&"?w=_.substring(1):_[0]===":"?w=_:w=" ".concat(_),Xt({data:S,prefix:"".concat(l).concat(w),index:c,reactiveValue:r,staticValue:o,onStyle:h,first:!1})}),a&&h(r.join("").trim(),o.join("").trim())}function nt(n,t){var e=Gt(n,t),r=e.important,i=e.cssValue,o=e.cssKey;return"".concat(o,":").concat(i).concat(r?"!".concat(r):"",";")}function dn(n,t){var e,r=t;typeof t=="string"?r=Jt(t,!0):t instanceof HTMLElement&&(r=new W(t)),Array.isArray(n)?(e=r).append.apply(e,Ye(n)):r.append(n)}var W=function(){function n(t){J(this,n),this.__ld_type=tt.Dom,this.__xr_funcs={},this.el=typeof t=="string"?document.createElement(t):t}return X(n,[{key:"_ur",value:function(t,e){var r=this;return typeof e>"u"?this.el[t]:(A(e,function(i){return r.el[t]=i}),this)}},{key:"class",value:function(t){return this._ur("className",t)}},{key:"id",value:function(t){return this._ur("id",t)}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"hasClass",value:function(t){var e;return(e=this.el)===null||e===void 0?void 0:e.classList.contains(t)}},{key:"toggleClass",value:function(t,e){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(t,e))}},{key:"remove",value:function(){var t;return(t=this.el)===null||t===void 0||t.remove(),this}},{key:"text",value:function(t){return typeof t>"u"?this.el.innerText:this._ur("innerText",t)}},{key:"mounted",value:function(t){return this.__mounted=t,this}},{key:"attr",value:function(t,e){var r=this;if(D(t)==="object"){for(var i in t)this.attr(i,t[i]);return this}return typeof e>"u"?this.el.getAttribute(t)||"":(A(e,function(o){return r.el.setAttribute(t,o)}),this)}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"func",value:function(t,e){return typeof e>"u"?this.__xr_funcs[t]:(this.__xr_funcs[t]=e,this)}},{key:"data",value:function(t,e){var r=this;if(D(t)==="object"){for(var i in t)this.data(i,t[i]);return this}if(typeof e>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[t])||null}return this.el.__xr_data||(this.el.__xr_data={}),A(e,function(s){return r.el.__xr_data[t]=s}),this}},{key:"style",value:function(t,e){var r=this.el.style;if(typeof e<"u")return A(e,function(o){var s=Gt(t,o),l=s.important,u=s.cssValue,c=s.cssKey;r.setProperty(c,u,l)}),this;if(typeof t=="string")return r[t];for(var i in t)this.style(i,t[i]);return this}},{key:"value",value:function(t){return this._ur("value",t)}},{key:"html",value:function(t){return this._ur("innerHTML",t)}},{key:"outerHtml",value:function(t){var e=this;return typeof t>"u"?this.el.outerHTML:(A(t,function(r){e.html(r),e.el=e.el.children[0]}),this)}},{key:"child",value:function(t){var e=this.el.children[t];return e?new n(e):null}},{key:"children",value:function(){for(var t=this.el.children.length,e=[],r=0;r<t;r++)e.push(this.child(r));return e}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if(D(t)==="object"){for(var r in t)this.on(r,t[r]);return this}var i=this.el;if(typeof e=="function")this.el.addEventListener(t,e);else{var o,s=function(l){var u;e.self&&l.target!==i||(e.stop&&l.stopPropagation(),e.prevent&&l.preventDefault(),e.once&&i.removeEventListener(t,s,e.capture),(u=e.listener)===null||u===void 0||u.call(e,l))};i.addEventListener(t,s,(o=e.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return xt(r,function(o){t.el.appendChild(o)}),this}},{key:"ref",value:function(t){return t(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",t)}},{key:"show",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return A(t,function(i){e.display(i?r:"none")}),this}},{key:"query",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Jt(t,e,this.el)}},{key:"src",value:function(t){return this._ur("src",t)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(t){return this.attr("__xr_name",t)}},{key:"find",value:function(t){return this.query('[__xr_name="'.concat(t,'"]'),!0)}},{key:"type",value:function(t){return this.attr("type",t)}},{key:"bind",value:function(t){return sn(this,t),this}}])}();const ft="web-term-container",P={FullParent:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},Text:{fontFamily:"courier-new, courier, monospace",fontSize:"15px",fontKerning:"none",whiteSpace:"pre",lineHeight:"17px",boxSizing:"border-box"},ScrollBar:{"&::-webkit-scrollbar":{width:"5px",cursor:"pointer",height:"5px"},"&::-webkit-scrollbar-button":{display:"none"},"&::-webkit-scrollbar-track":{display:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#555",cursor:"pointer"}}},Yt={};function Qt(n){Object.assign(Yt,n)}function pn(){fn(Yt)}Qt({[`.${ft}`]:{position:"relative",...P.Text,"*":{...P.Text},...P.ScrollBar},".editor-cursor":{position:"absolute",zIndex:"2",height:"16px",backgroundColor:"#000",color:"#fff","&.cursor-focus":{backgroundColor:"#fff",color:"#000"},".editor-cursor-border":{...P.FullParent,border:"1px solid #fff"},".editor-cursor-text":{...P.FullParent}},".editor-textarea":{...P.ScrollBar}});Qt({".display-item":{padding:2,wordBreak:"break-all",whiteSpace:"pre-wrap"}});class vn{constructor(t,e){this.store=t,this.title=e,this.container=C.div.style({padding:"5px 3px 0 3px"}).on("click",r=>{r.stopPropagation()})}pushContent(t){const e="display-item";this.container.append(typeof t=="string"?C.div.class(e).text(t+`
`):t.addClass(e))}}function te(n){return typeof n=="function"?n():n}function It(){const n=navigator.userAgent;return/macintosh|mac os x/i.test(n)}function dt(n){return It()&&n.metaKey||!It()&&n.ctrlKey}function yn(n){let t=!1;return n.on("compositionstart",()=>{t=!0}),n.on("compositionend",()=>{t=!1}),()=>t}function Dt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Mt(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=mn(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return s=u.done,u},e:function(u){l=!0,o=u},f:function(){try{s||e.return==null||e.return()}finally{if(l)throw o}}}}function mn(n,t){if(n){if(typeof n=="string")return Dt(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Dt(n,t):void 0}}var ee="  ";function gn(n){ee=n}function bn(n){xn(this,n,ee)}function xn(n,t,e){var r=e.length;if(t.code==="Tab"){t.preventDefault();var i=zt(n),o=i.startLineIndex,s=i.start,l=i.end,u=i.lineText.split(`
`);if(t.shiftKey){var c=!0,h=Mt(u),d;try{for(h.s();!(d=h.n()).done;){var a=d.value;a.startsWith(e)?(n.selectionStart=o,n.selectionEnd=o+r,document.execCommand("delete",!1),c&&a.startsWith(e+e)&&(s-=r),l-=r,o+=a.length-r+1):o+=a.length+1,c=!1}}catch(x){h.e(x)}finally{h.f()}console.log(s,l),n.selectionStart=s,n.selectionEnd=l;return}if(u.length===1){rt(e);return}s+=r;var f=Mt(u),v;try{for(f.s();!(v=f.n()).done;){var p=v.value;n.selectionStart=n.selectionEnd=o,rt(e),o+=r+p.length+1,l+=r}}catch(x){f.e(x)}finally{f.f()}n.selectionStart=s,n.selectionEnd=l}else if(t.code==="Enter"&&!t.ctrlKey){for(var y=zt(n),m=y.lineText.split(`
`)[0],g=`
`,b=0;m.substring(b,b+r)===e;)g+=e,b+=r;b>0&&(rt(g),t.preventDefault())}}function rt(n){n&&document.execCommand("insertText",!1,n)}function zt(n){var t=n.selectionStart,e=n.selectionEnd,r="",i=n.value;r=i.substring(t,e);var o=i.substring(0,t),s=o.lastIndexOf(`
`),l=s+1;return{start:t,end:e,text:r,lineText:i.substring(l,e),line:r.split(`
`).length,startLineIndex:l}}function _n(n){return n?n.charCodeAt(0)>=128:!1}const z=17;class ne extends mt.Eveit{constructor({header:t="",paddingTop:e=5,paddingLeft:r=5,size:i="full",mode:o="inline",tab:s="  "}={}){super(),this.SingleCharWidth=9,this.MultiCharWidth=15,this.wrapLine=!0,this.store=Rt({cx:0,cy:0}),this._prevHeader="",this._prevHeaderWidth=0,this._isShowCursor=!1,this.size=i,this.mode=o,gn(s),this.paddingTop=e,this.paddingLeft=r;const l=C.canvas;this.ctx=l.el.getContext("2d"),this.ctx.font="15px courier-new, courier, monospace",this.SingleCharWidth=this.measureTextWidth("a"),this.MultiCharWidth=this.measureTextWidth("一"),this.headerGetter=t,this.render(),this._monitorStart()}get value(){const t=this.fullValue,e=this.header.length;return e?t.substring(e):t}get fullValue(){return this.textarea.value()}get beforeValue(){const t=this.fullValue,e=this.header.length,r=this.textarea.el.selectionStart;return typeof r=="number"&&r>0?t.substring(e,r):t.substring(e)}get header(){return te(this.headerGetter)}get headerWidth(){const t=this.header;return t!==this._prevHeader&&(this._prevHeaderWidth=this.measureTextWidth(t)),this._prevHeaderWidth}_monitorStart(){setTimeout(()=>{this.textarea.el.clientWidth?this.relocateCursorPosition():this._monitorStart()},100)}render(){const t=this.size==="full";this.container=C.div.style({position:"relative",height:t?"100%":`${z+2*this.paddingTop}px`}).append(this.cursor=C.div.class("editor-cursor").append(C.div.class("editor-cursor-border"),this.cursorText=C.div.class("editor-cursor-text")),this.textarea=C.textarea.class("editor-textarea").value(this.header).style({...P.FullParent,padding:`${this.paddingTop}px ${this.paddingLeft}px`,backgroundColor:"transparent",border:"none",color:"#fff",outline:"none",resize:"none",zIndex:"1",caretColor:"transparent"})),this.wrapLine&&this.textarea.style({wordBreak:"break-all",whiteSpace:"pre-wrap"}),this.initEvents()}initEvents(){let t=!1;const e=this.textarea.el,r=u=>u.code==="Backspace"||u.code==="Enter",i=yn(this.textarea);let o=null,s=this.compatSelChange();this.textarea.on("keydown",u=>{if(!i()){if(this.mode==="inline"){if(u.code==="Enter")if(dt(u))this.pushText(`
`);else{u.preventDefault(),this.emit("key","Enter");return}else if(u.code==="ArrowUp"||u.code==="ArrowDown"||u.code==="Tab"){u.preventDefault(),this.emit("key",u.code);return}}if(u.code==="Tab"&&e.selectionStart!==e.selectionEnd&&this.showCursor(!1),bn.call(e,u),r(u)&&(t=!0),u.code==="Backspace"){const{x:c,y:h}=this.getCursorPosition();h===0&&c===this.headerWidth&&u.preventDefault()}dt(u)&&u.code==="KeyZ"&&(clearTimeout(o),o=setTimeout(()=>{this.relocateCursorPosition()},50))}}).on("keyup",u=>{i()||r(u)&&(t=!1)}).on("input",u=>{if(u.preventDefault(),t&&this.relocateCursorPosition(),this.size==="auto"){const c=this._countContentHeight(this.fullValue,!0);c!=e.clientHeight&&this.textarea.style("height",`${c}px`)}this.emit("input")}).on("selectionchange",()=>{s&&(s(),s=null),this._onSelectionChange()}).on("scroll",()=>{this.relocateCursorPosition()}).on("focus",()=>{this.cursor.addClass("cursor-focus")}).on("blur",()=>{this.cursor.removeClass("cursor-focus")});let l=e.clientWidth;globalThis.addEventListener("resize",()=>{e.clientWidth!==l&&(l=e.clientWidth,this.relocateCursorPosition())})}_countContentHeight(t,e=!1){return this._countContentSize(t,e).height}_countContentSize(t,e=!1){const r=t.split(`
`);let i=0;return{lines:r.map(s=>{const l=this.countSingleLineInfo(s);return i+=l.length*z,l}),height:i+(e?2*this.paddingTop:0)}}countSingleLineInfo(t){const e=this._getLineBoxWidth();if(e<=0)return[{content:t,width:this.measureTextWidth(t)}];const r=Math.floor(e/this.MultiCharWidth);if(t.length<=r)return[{content:t,width:this.measureTextWidth(t)}];const i=[];let o=t.length,s=0,l=s+r;const u=()=>{const c=t.substring(s,l);return{content:c,width:this.measureTextWidth(c)}};for(;o>r;){let{content:c,width:h}=u(),d,a;do{if(d=c,a=h,l>=t.length){l++;break}c+=t[l],h=this.measureTextWidth(c),l++}while(h<=e);i.push({content:d,width:a}),s=l-1,l=s+r,o-=d.length}return s<t.length&&i.push(u()),i}_onSelectionChange(){const t=this.textarea.el;if(t.selectionStart===t.selectionEnd)this.relocateCursorPosition();else{if(t.clientWidth===0)return;const e=this.header.length;t.selectionStart<e&&(t.selectionStart=e);const r=t.value.length;t.selectionEnd>r&&(t.selectionEnd=r)}}compatSelChange(){const t=()=>{const e=this.textarea.el;document.activeElement===e&&this._onSelectionChange()};return document.addEventListener("selectionchange",t),()=>document.removeEventListener("selectionchange",t)}measureTextWidth(t){return t?this.ctx.measureText(t).width:0}_getLineBoxWidth(){return this.textarea.el.clientWidth-2*this.paddingLeft}getCursorPosition(){var c,h;const t=this.textarea.el,e=t.selectionStart,r=t.value.substring(0,e),i=this._getLineBoxWidth(),o=t.value[e]||"";let s=0,l=0;if(this.wrapLine){const d=this._countContentSize(r);l=d.height-z,s=((h=(c=d.lines.pop())==null?void 0:c.pop())==null?void 0:h.width)||0}else s=this.measureTextWidth(r),l=(r.split(`
`).length-1)*z;const u=_n(o)?this.MultiCharWidth:this.SingleCharWidth;return s+u>i&&(s=0,l+=z),{x:s,y:l,word:o,wordWidth:u}}showCursor(t=!0){this._isShowCursor!==t&&(this.cursor.style("visibility",t?"visible":"hidden"),this._isShowCursor=t)}relocateCursorPosition(){const t=this.textarea.el;this.showCursor();const{x:e,y:r,word:i,wordWidth:o}=this.getCursorPosition();let s=e;if(r===0&&e<this.headerWidth){const l=this.header.length;t.setSelectionRange(l,l),s=this.headerWidth}this.cursor.style({left:`${s+this.paddingLeft}px`,top:`${r+this.paddingTop-t.scrollTop}px`,width:`${o}px`}),this.cursorText.text(i)}focus(){this.textarea.el.focus()}pushText(t){const e=this.textarea.el;e.selectionStart=e.selectionEnd=e.value.length,this.insertText(t)}insertText(t){t&&document.execCommand("insertText",!1,t)}replaceText(t){this.clearContent(!1),this.pushText(t),this.relocateCursorPosition()}clearContent(t=!0){const e=this.textarea.el,r=this.header.length;e.selectionStart=r,e.selectionEnd=e.value.length+1,r!==e.value.length&&(document.execCommand("delete",!1),t&&this.relocateCursorPosition())}setCursorToHead(){const t=this.textarea.el;t.selectionStart=t.selectionEnd=this.header.length}}class wn extends mt.Eveit{constructor(t,e){super(),this.editor=new ne(e),this.container=C.div.style({...P.FullParent,zIndex:100,backgroundColor:"#000"}).append(this.editor.container).show(()=>t.showEditor),this.container.on("click",r=>{r.stopPropagation()}),this.container.on("keydown",r=>{if(r.code==="KeyS"&&dt(r)){const i=this.editor.value;this.editor.clearContent(),this.emit("edit-done",i),r.preventDefault()}r.code==="Escape"&&(this.editor.clearContent(),this.emit("edit-cancel"))})}vi(t){this.editor.textarea.el.focus(),this.editor.replaceText(t)}}function kn(){const n="_web_term_ui_history;";return{read:()=>localStorage.getItem(n)||"[]",write:t=>(localStorage.setItem(n,t),!0)}}class Sn extends mt.Eveit{constructor({title:t="",historyMax:e=100,storageProvider:r=kn(),container:i,getHeader:o}={}){if(super(),this.store=Rt({showEditor:!1}),this.getHeader=()=>te(o||""),pn(),this.title=t,this.history=new Ze(e,r),this.editor=new wn(this.store,{mode:"full"}),this.input=new ne({paddingTop:2,header:o,size:"auto",mode:"inline"}),this.display=new vn(this.store,t),t&&this.display.pushContent(t),!i)this.container=C.div.class(ft).style({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),dn(this.container,"body");else{if(typeof i=="string"){const s=document.querySelector(i);if(!s)throw new Error("Container not exists");this.container=new W(s)}else this.container=new W(i);this.container.addClass(ft)}this.initEvents(),this.render()}get value(){return this.input.value}initEvents(){this.input.on("key",e=>{switch(e){case"Enter":{const r=this.input.value;r&&this.history.push(r),this.emit("enter",r)}break;case"ArrowDown":{const r=this.history.down();typeof r=="string"&&this.input.replaceText(r)}break;case"ArrowUp":{const r=this.history.up(this.input.value);typeof r=="string"?this.input.replaceText(r):this.input.setCursorToHead()}break;case"Tab":this.emit("tab",this.input.beforeValue);break}}),this.input.on("input",()=>{this.history.checkLatest(this.input.value)}),this.container.on("click",()=>{this.input.focus()});const t=()=>{this.store.showEditor=!1,this.input.focus()};this.editor.on("edit-done",e=>{t(),this.emit("edit-done",e)}),this.editor.on("edit-cancel",()=>{t(),this.emit("edit-cancel")})}render(){this.container.style({cursor:"text",backgroundColor:"#000",color:"#fff",fontSize:"16px",lineHeight:"20px",fontFamily:'Menlo, Monaco, "Courier New", monospace',overflow:()=>this.store.showEditor?"hidden":"auto"}).append(this.mainContainer=C.div.append(this.display.container,this.input.container),this.editor.container)}clearHistory(){this.history.clear()}write(t){this.display.pushContent(this.input.fullValue),t&&this.display.pushContent(t),this.input.clearContent(),this.container.el.scrollTop=this.container.el.scrollHeight}insertEdit(t){this.editor.editor.insertText(t)}replaceEdit(t){this.editor.editor.replaceText(t)}pushEdit(t){this.editor.editor.pushText(t)}vi(t=""){this.store.showEditor=!0,this.editor.vi(t)}clearTerminal(){this.display.container.empty(),this.input.clearContent()}newLine(){this.display.pushContent(this.input.fullValue),this.input.clearContent()}}const T=new Sn({title:['This is a Demo. Type "vi" to use vi editor',`And "ctrl/cmd + s" to Save, "esc" to cancel.
`].join(`
`),container:"#container",getHeader:()=>"/ admin$ "});T.on("enter",n=>{n?n==="vi"?T.vi(`test
11`):n==="clear"?T.clearTerminal():T.write(`Exec "${n}"`):T.write("")});T.on("edit-done",n=>{T.write(`Edit Save: ${n}`)});T.on("tab",()=>{T.insertEdit("[test]")});document.getElementById("code").appendChild(Me({code:`import {WebTerm} from 'web-term-ui';
const term = new WebTerm({
    title: [
        'This is a Demo. Type "vi" to use vi editor',
        'And "ctrl/cmd + s" to Save, "esc" to cancel.\\n'
    ].join('\\n'),
    container: '#container',
    getHeader: () => '/ admin$ '
});
term.on('enter', v => {
    if (!v) term.write('');
    else if (v === 'vi') term.vi('test
11');
    else if (v === 'clear') term.clearTerminal();
    else term.write(\`Exec "\${v}"\`);
});
term.on('edit-done', v => {
    term.write(\`Edit Save: \${v}\`);
});
term.on('tab', () => {
    term.insertEdit('[test]');
});`}));window.term=T;
